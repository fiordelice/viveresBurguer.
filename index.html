<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <title>ğ‘½Ã­ğ’—ğ’†ğ’“ğ’†ğ’” ğ‘©ğ’–ğ’“ğ’ˆğ’–ğ’†ğ’“</title>
  <style>
    :root { --orange:#ff6600; --black:#111; --dark:#222; --white:#fff; --red:#ff3b3b; --green:#25d366; }
    body{margin:0;font-family:'Inter',sans-serif;background:var(--black);color:var(--white);}
    header{background:var(--black);border-bottom:2px solid var(--orange);padding:12px 16px;}
    .header-content{display:flex;align-items:center;justify-content:space-between;gap:12px;max-width:1200px;margin:0 auto;}
    .left-header{display:flex;align-items:center;gap:12px;}
    header .logo{width:48px;height:48px;object-fit:contain;border-radius:8px;}
    header .site-name{font-size:1.5rem;font-weight:700;color:var(--orange);}
    /* Search & categories */
    .controls{max-width:1200px;margin:18px auto 0;padding:0 16px;display:flex;flex-direction:column;gap:10px;}
    .search-row{display:flex;gap:10px;align-items:center;}
    .search-row input[type="search"]{flex:1;padding:10px 12px;border-radius:10px;border:1px solid #333;background:#111;color:#fff;font-size:1rem;}
    .categories{display:flex;gap:8px;flex-wrap:wrap;}
    .cat-btn{background:transparent;color:#ccc;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700;}
    .cat-btn.active{background:var(--orange);color:#111;border-color:var(--orange);}
    /* Container e layout */
    .container{max-width:1200px;margin:12px auto;padding:0 16px;display:grid;grid-template-columns:1fr 360px;gap:24px;}
    .menu{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;}
    /* Cards */
    .card{background:var(--dark);border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:10px;box-shadow:0 6px 20px rgba(0,0,0,0.2);position:relative;transition:0.3s;}
    .card:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(0,0,0,0.4);}
    .thumb{width:100%;aspect-ratio:4/3;border-radius:10px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#333;}
    .thumb img{width:100%;height:100%;object-fit:cover;}
    .badge{position:absolute;top:8px;left:8px;background:var(--orange);color:#fff;font-size:0.75rem;padding:4px 8px;border-radius:8px;}
    .name{font-weight:700;color:var(--orange);}
    .price{font-weight:800;color:var(--orange);}
    .desc{font-size:0.92rem;color:#ccc;margin-top:6px;}
    .row{display:flex;justify-content:space-between;align-items:center;margin-top:auto;}
    .btn{background:var(--orange);color:#fff;border:none;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:700;transition:0.12s;}
    .btn:active{transform:translateY(1px);}
    .btn.remove{background:var(--red);}
    /* Carrinho */
    .cart{position:relative;background:var(--black);border-radius:14px;padding:16px;box-shadow:0 6px 20px rgba(0,0,0,0.2);min-height:220px;}
    .cart h3{margin:0 0 6px 0;color:var(--orange);}
    .cart-empty{color:#ccc;padding:18px;background:var(--dark);border-radius:10px;text-align:center;}
    .cart-list{display:flex;flex-direction:column;gap:12px;max-height:420px;overflow:auto;}
    .cart-item{display:flex;gap:12px;align-items:center;padding:8px;border-radius:10px;background:#333;}
    .ci-thumb{width:64px;height:64px;border-radius:8px;overflow:hidden;flex-shrink:0;}
    .ci-thumb img{width:100%;height:100%;object-fit:cover;}
    .ci-meta{flex:1;}
    .ci-meta .ci-name{font-weight:700;}
    .ci-meta .ci-desc{font-size:0.9rem;color:#ccc;}
    .ci-observation{font-size:0.85rem;color:#ddd;margin-top:6px;background:#1a1a1a;padding:6px;border-radius:6px;}
    .ci-controls{display:flex;flex-direction:column;align-items:flex-end;gap:6px;}
    .qty{display:inline-flex;align-items:center;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,0.2);}
    .qty button{background:transparent;border:0;padding:8px 10px;cursor:pointer;font-weight:700;color:#fff;}
    .qty span{display:inline-block;padding:8px 10px;min-width:28px;text-align:center;color:#fff;}
    .ci-price{font-weight:800;color:var(--orange);}
    .totals{margin-top:14px;border-top:1px dashed rgba(255,255,255,0.2);padding-top:12px;display:flex;flex-direction:column;gap:10px;}
    .totals .row{display:flex;justify-content:space-between;align-items:center;}
    .checkout{margin-top:8px;display:flex;gap:10px;}
    .checkout .btn{flex:1;}
    /* Modal geral */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.8);z-index:80;padding:16px;}
    .modal.open{display:flex;}
    .modal-card{width:100%;max-width:540px;background:var(--dark);border-radius:14px;padding:18px;box-shadow:0 30px 60px rgba(0,0,0,0.25);color:#fff;}
    .order-list{max-height:260px;overflow:auto;margin-top:10px;display:flex;flex-direction:column;gap:8px;}
    .order-item{display:flex;align-items:center;gap:8px;}
    .order-item img{width:48px;height:48px;object-fit:cover;border-radius:6px;}
    /* Inputs */
    select,input,textarea{width:100%;padding:10px;border-radius:8px;margin-top:6px;background:#333;border:1px solid #555;color:#fff;box-sizing:border-box;}
    textarea{min-height:80px;resize:vertical;}
    /* Add-obs modal (when adding item) */
    .add-obs-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:90;padding:12px;}
    .add-obs-modal.open{display:flex;}
    .add-obs-card{width:100%;max-width:520px;background:var(--dark);padding:14px;border-radius:12px;box-shadow:0 12px 30px rgba(0,0,0,0.4);}
    .add-obs-card h3{margin:0 0 8px 0;color:var(--orange);}
    .add-obs-row{display:flex;gap:8px;margin-top:10px;}
    .small{font-size:0.9rem;color:#ccc;}
    .obs-preview{font-size:0.9rem;color:#ddd;margin-top:8px;background:#111;padding:8px;border-radius:8px;}
    .extras-row{display:grid;grid-template-columns:1fr auto;gap:8px;align-items:center;padding:8px;background:#1a1a1a;border-radius:8px;}
    .extra-controls{display:flex;gap:6px;align-items:center;}
    /* Footer */
    #footer{background:#111;color:var(--orange);padding:16px 20px;text-align:center;font-family:'Inter',sans-serif;font-size:0.95rem;border-top:2px solid var(--orange);}
    .footer-content{display:flex;flex-direction:column;gap:6px;}
    .footer-content .site-info{font-weight:700;font-size:1.1rem;}
    .footer-content .developer{font-weight:400;font-size:0.9rem;color:#ccc;}
    @media(min-width:480px){.footer-content{flex-direction:row;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;}}
    /* Responsividade */
    @media(max-width:980px){.container{grid-template-columns:1fr 340px;}}
    @media(max-width:760px){.container{grid-template-columns:1fr;}.cart{order:2;margin-top:18px;}}
    /* WhatsApp float */
    #whatsapp-btn{position:fixed;bottom:20px;right:20px;background:var(--green);color:#fff;border:none;border-radius:50%;width:60px;height:60px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,0.3);z-index:95;}
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="left-header">
        <img src="logo.png" alt="Logo Viveres Burger" class="logo">
        <span class="site-name">ğ‘½Ã­ğ’—ğ’†ğ’“ğ’†ğ’” ğ‘©ğ’–ğ’“ğ’ˆğ’–ğ’†ğ’“</span>
      </div>
    </div>
  </header>

<div class="controls" style="max-width:1200px;margin:0 auto;display:flex;align-items:center;gap:6px;padding:0 10px;flex-wrap:wrap;">
  <!-- BotÃ£o â˜° -->
   <button id="toggle-categories" 
  style=" color:#ffff; background:#ff6600;border:1px solid #ff6600;border-radius:6px;padding:8px 10px;cursor:pointer;font-size:18px;margin-left:auto; margin-top:6px;">
  â˜°
</button>

  <!-- Barra de pesquisa -->
  <div class="search-row" style="flex:1;position:relative;min-width:150px;">
    <input type="search" id="search" placeholder="Pesquisar no cardÃ¡pio" 
      style="width:100%;padding:12px 50px 12px 12px;font-size:16px;border:1px solid #ff6600;border-radius:8px;">
    <button id="clear-search" title="Limpar pesquisa"
      style=" color:#ffff;position:absolute;right:10px;top:50%;transform:translateY(-50%);background:#ff6600;border:none;padding:6px 10px;border-radius:6px;font-size:14px;cursor:pointer;margin-top: 3px;">
      Limpar
    </button>
  </div>
</div>

<!-- Categorias ocultas -->
<div class="categories" id="categories" 
  style="display:none;flex-wrap:wrap;gap:6px;justify-content:center;margin:10px auto 0;max-width:1200px;padding:0 10px;">
  <button class="cat-btn active" data-cat="Todos">Todos</button>
  <button class="cat-btn" data-cat="Lanches">Lanches</button>
  <button class="cat-btn" data-cat="Bebidas">Bebidas</button>
  <button class="cat-btn" data-cat="PorÃ§Ãµes">PorÃ§Ãµes</button>
  <button class="cat-btn" data-cat="Sobremesa">Sobremesa</button>
</div>

<style>
  .cat-btn {
    color: rgb(255, 247, 247);
    background: #ff6600;
    border: 1px solid #ff6600;
    border-radius: 6px;
    padding: 6px 10px;
    cursor: pointer;
    transition: 0.2s;
    font-size: 13px;
  }
/* Imagens das bebidas (tamanho padrÃ£o - telas grandes) */
.thumb img[src*="agua"],
.thumb img[src*="aguagas"],
.thumb img[src*="refrigerante"],
.thumb img[src*="guarana"],
.thumb img[src*="cocazero"],
.thumb img[src*="cerveja"],
.thumb img[src*="suco"] {
  object-fit: contain;
  width: 100%;
  height: 180px;
  background-color: transparent;
  padding: 5px;
  transition: height 0.3s ease, padding 0.3s ease;
}

/* Em telas menores (celulares e tablets), as imagens ficam MAIORES */
@media (max-width: 768px) {
  .thumb img[src*="agua"],
  .thumb img[src*="aguagas"],
  .thumb img[src*="refrigerante"],
  .thumb img[src*="guarana"],
  .thumb img[src*="cocazero"],
  .thumb img[src*="cerveja"],
  .thumb img[src*="suco"] {
    height: 220px; /* aumenta o tamanho */
    padding: 6px;
  }
}

/* Em telas bem pequenas (ex: iPhones SE, Androids compactos) */
@media (max-width: 480px) {
  .thumb img[src*="agua"],
  .thumb img[src*="aguagas"],
  .thumb img[src*="refrigerante"],
  .thumb img[src*="guarana"],
  .thumb img[src*="cocazero"],
  .thumb img[src*="cerveja"],
  .thumb img[src*="suco"] {
    height: 250px; /* ainda maior */
    padding: 8px;
  }
}

  .cat-btn:hover { background:#ff6600; }
  .cat-btn.active { background:#333;color:white;border-color:#333; }

  /* Responsivo */
  @media (max-width: 600px) {
    .controls { flex-wrap:wrap; gap:6px; }
    #toggle-categories { font-size:16px; padding:6px 8px; }
    .search-row input { font-size:14px; padding:10px 50px 10px 12px; }
    .cat-btn { flex:1 1 45%; font-size:12px; padding:5px 8px; }
  }

  @media (max-width: 400px) {
    .cat-btn { flex:1 1 100%; font-size:11px; padding:4px 6px; }
  }
</style>

<script>
  document.getElementById('toggle-categories').addEventListener('click', function() {
    const catDiv = document.getElementById('categories');
    catDiv.style.display = catDiv.style.display === 'flex' ? 'none' : 'flex';
  });
</script>

  <main class="container">
    <section>
      <h2 style="margin:0 0 12px 0">Nosso CardÃ¡pio</h2>
      <div class="menu" id="menu"></div>
    </section>

    <aside class="cart">
      <h3>Seu Carrinho</h3>
      <div id="cart-empty" class="cart-empty">Carrinho vazio</div>
      <div class="cart-list" id="cart-list" style="display:none"></div>
      <div class="totals" id="cart-totals" style="display:none">
        <div class="row"><div>Total</div><div id="total">R$ 0,00</div></div>
        <div style="margin-top:6px"><label for="payment">Forma de pagamento:</label>
          <select id="payment">
            <option value="Dinheiro">Dinheiro</option>
            <option value="Pix">Pix</option>
            <option value="CartÃ£o">CartÃ£o</option>
          </select>
        </div>
        <div class="checkout">
          <button class="btn" id="btn-checkout">Finalizar Pedido</button>
          <button class="btn remove" id="btn-clear">Limpar</button>
        </div>
      </div>
    </aside>
  </main>

  <!-- Modal resumo -->
  <div class="modal" id="modal">
    <div class="modal-card">
      <h2>Resumo do Pedido</h2>
      <div class="order-list" id="order-list"></div>

      <div style="margin-top:12px">
        <div class="row" style="display:flex;justify-content:space-between;font-weight:800;font-size:1.1rem">
          <div>Total</div><div id="modal-total">R$ 0,00</div>
        </div>

        <div style="margin-top:12px;display:flex;gap:8px;flex-direction:column">
          <label for="delivery-option">Retirada ou Delivery:</label>
          <select id="delivery-option">
            <option value="Retirar">Retirar no local</option>
            <option value="Delivery">Delivery (+R$5,00)</option>
          </select>

          <div id="card-type-container" style="display:none">
            <label for="card-type">Se cartÃ£o, escolha:</label>
            <select id="card-type">
              <option value="DÃ©bito">DÃ©bito</option>
              <option value="CrÃ©dito">CrÃ©dito</option>
            </select>
          </div>

          <div id="delivery-address-container" style="display:none">
            <label for="delivery-address">EndereÃ§o para entrega:</label>
            <input type="text" id="delivery-address-bairro" placeholder="Bairro">
            <input type="text" id="delivery-address-rua" placeholder="Rua">
            <input type="text" id="delivery-address-num" placeholder="NÃºmero">
          </div>

          <button class="btn" id="confirm-order">Confirmar Pedido</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para adicionar observaÃ§Ã£o e adicionais ao item -->
  <div class="add-obs-modal" id="addObsModal" aria-hidden="true">
    <div class="add-obs-card">
      <h3 id="addObsTitle">Personalizar item</h3>
      <div style="font-size:0.9rem;color:#ccc" id="addObsPriceInfo">Escolha adicionais e observaÃ§Ãµes.</div>

      <div style="margin-top:10px">
        <label for="itemQty">Quantidade do item:</label>
        <div style="display:flex;gap:8px;align-items:center;margin-top:6px;">
          <button class="btn" id="obs-decrease" style="padding:8px 10px;">-</button>
          <input type="number" id="itemQty" value="1" min="1" style="width:64px;text-align:center;">
          <button class="btn" id="obs-increase" style="padding:8px 10px;">+</button>
        </div>

        <h4 style="color:#ff6600;margin-top:12px;margin-bottom:6px;">Adicionais</h4>
        <div id="extrasList" style="display:flex;flex-direction:column;gap:8px;"></div>

        <label for="itemObs" style="margin-top:12px;display:block;">ObservaÃ§Ãµes / instruÃ§Ãµes</label>
        <textarea id="itemObs" placeholder="Ex: ponto da carne, sem cebola..."></textarea>
        <div class="obs-preview" id="obsPreview" style="display:none;"></div>

        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px;">
          <strong>Total unitÃ¡rio: <span id="customTotal">R$ 0,00</span></strong>
          <div style="display:flex;gap:8px;">
            <button class="btn remove" id="addObsCancel">Cancelar</button>
            <button class="btn" id="addObsConfirm">Adicionar ao Carrinho</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer id="footer">
    <div class="footer-content">
      <span class="site-info">ğ‘½Ã­ğ’—ğ’†ğ’“ğ’†ğ’” ğ‘©ğ’–ğ’“ğ’ˆğ’–ğ’†ğ’“</span>
      <span class="developer">Desenvolvido por <strong>Gabriella Fiordelice</strong></span>
    </div>
  </footer>

  <!-- BotÃ£o WhatsApp flutuante -->
  <button class="whatsapp-btn" id="whatsapp-btn"><i class="fab fa-whatsapp"></i></button>

  <script>
    // --- HORÃRIO (mantive sua lÃ³gica) ---
    function verificarHorarioFuncionamento(){
      const agora = new Date();
      const utc = agora.getTime() + (agora.getTimezoneOffset() * 60000);
      const brasilia = new Date(utc + (3600000 * -3));
      const diaSemana = brasilia.getDay();
      const hora = brasilia.getHours();
      const minuto = brasilia.getMinutes();
      const aberto = (diaSemana >= 1 && diaSemana <= 6) && ((hora > 18 || (hora === 18 && minuto >= 30)) && (hora < 22 || (hora === 22 && minuto <= 20)));
      return { aberto, diaSemana };
    }
    let statusLoja = verificarHorarioFuncionamento();
    let lojaAberta = statusLoja.aberto;
    setInterval(()=>{ statusLoja = verificarHorarioFuncionamento(); lojaAberta = statusLoja.aberto; },60000);

    // --- MENU (itens) ---
    const menuItems = [
      { id: 1, name: 'VÃ­veres Burguer', desc: 'PÃ£o artesanal, burguer 150g, queijo mussarela, maionese da casa', price: 20.00, img: 'VÃ­veres Burguer.jpg', badge: '', category: 'Lanches' },
      { id: 2, name: 'VÃ­veres Salada', desc: 'PÃ£o artesanal, burguer 150g, queijo mussarela, alface americana, tomate, cebola roxa, maionese da casa', price: 25.00, img: 'VÃ­veres Salada.jpg', badge: '', category: 'Lanches' },
      { id: 3, name: 'VÃ­veres Bacon', desc: 'PÃ£o artesanal, burguer 150g, bacon, queijo mussarela, alface americana, tomate, cebola roxa, maionese da casa', price: 27.90, img: 'VÃ­veres Bacon.jpg', badge: '', category: 'Lanches' },
      { id: 4, name: 'Mussaburguer', desc: 'PÃ£o artesanal, burguer 150g, mussarela empanada, picles, alface americana, bacon, maionese da casa', price: 31.90, img: 'Mussaburguer.jpg', badge: '', category: 'Lanches' },
      { id: 5, name: 'Preferido', desc: 'PÃ£o artesanal, burguer 150g (2x), bacon, queijo cheddar, cebola roxa, maionese da casa', price: 37.00, img: 'Preferido.jpg', badge: 'Preferido', category: 'Lanches' },
      { id: 6, name: 'G B I', desc: 'PÃ£o artesanal, burguer 150g, bacon, queijo cheddar, maionese da casa', price: 24.90, img: 'GBI.jpg', badge: 'Mais pedido', category: 'Lanches' },
      { id: 7, name: 'Cheddar Melt', desc: 'PÃ£o artesanal, burguer 150g, cheddar cremoso, picles, farofa de bacon', price: 30.00, img: 'Cheddar Melt.jpg', badge: '', category: 'Lanches' },
      { id: 8, name: 'Supreme', desc: 'PÃ£o artesanal, burguer 150g, queijo cheddar, onion rings, molho BBQ', price: 29.00, img: 'Supreme.jpg', badge: 'Novo', category: 'Lanches' },
      { id: 9, name: 'VÃ­veres Crispy', desc: 'PÃ£o artesanal, burguer 150g, queijo mussarela, cebola crispy, alface americana, mel, maionese da casa', price: 32.00, img: 'VÃ­veres Crispy.jpg', badge: '', category: 'Lanches' },
      { id: 10, name: 'VÃ­veres Chicken', desc: 'PÃ£o artesanal, burguer de frango, queijo mussarela, tomate, picles, alface americana, molho especial', price: 26.90, img: 'VÃ­veres Chicken.jpg', badge: '', category: 'Lanches' },
      { id: 11, name: 'VÃ­veres Kids', desc: '1 Mini burguer + 1 mini porÃ§Ã£o de batata smile + 1 Coca-Cola 200ml ou Suco KapÃ´ + brinde', price: 29.90, img: 'VÃ­veres Kids.jpg', badge: '', category: 'Lanches' },
      { id: 21, name: 'Batata Frita', desc: 'PorÃ§Ã£o individual de batata frita crocante', price: 8.00, img: 'Batata frita.jpg', badge: '', category: 'PorÃ§Ãµes' },
      { id: 22, name: 'Batata Crinkle (ondulada)', desc: 'PorÃ§Ã£o individual de batata crinkle ondulada', price: 9.00, img: 'Batata Crinkle (ondulada).jpg', badge: '', category: 'PorÃ§Ãµes' },
      { id: 23, name: 'Batata Frita c/ Cheddar e Farofa de Bacon', desc: 'PorÃ§Ã£o individual de batata frita com cheddar e farofa de bacon', price: 13.90, img: 'batata.jpg', badge: '', category: 'PorÃ§Ãµes' },
      { id: 24, name: 'Batata Smile (carinha)', desc: '8 unidades, acompanha molho especial', price: 10.90, img: 'Batata Smile.jpg', badge: '', category: 'PorÃ§Ãµes' },
      { id: 25, name: 'AnÃ©is de Cebola', desc: '8 unidades, acompanha molho barbecue', price: 9.90, img: 'AnÃ©is de Cebola.jpg', badge: '', category: 'PorÃ§Ãµes' },
      { id: 26, name: 'Nuggets Chicken Supreme', desc: '6 unidades, acompanha molho especial', price: 11.90, img: 'Nuggets Supreme.jpg', badge: '', category: 'PorÃ§Ãµes' },
      { id: 31, name: 'Mini Churros', desc: 'PorÃ§Ã£o individual com 10 unidades', price: 13.90, img: 'doce1.png', badge: '', category: 'Sobremesa' },
      { id: 41, name: 'Ãgua', desc: 'Garrafa de Ã¡gua mineral', price: 4.00, img: 'agua.png', badge: '', category: 'Bebidas' },
      { id: 42, name: 'Ãgua com GÃ¡s', desc: 'Garrafa de Ã¡gua com gÃ¡s', price: 4.50, img: 'aguagas.png', badge: '', category: 'Bebidas' },
      { id: 43, name: 'Refrigerante Lata 350ml', desc: 'Coca-Cola, Fanta, Sprite e outros sabores', price: 6.00, img: 'guaranas.png', badge: '', category: 'Bebidas' },
      { id: 44, name: 'Refrigerante 2L Vencetex', desc: 'Refrigerante Vencetex 2 litros', price: 12.00, img: 'guarana.png', badge: '', category: 'Bebidas' },
      { id: 45, name: 'Refrigerante 2L', desc: 'Fanta, Sprite e outros sabores', price: 12.00, img: 'refrigerante.png', badge: '', category: 'Bebidas' },
      { id: 46, name: 'Coca-Cola Zero 2L', desc: 'Refrigerante Coca-Cola Zero 2 litros', price: 15.00, img: 'cocazero.png', badge: '', category: 'Bebidas' },
      { id: 47, name: 'Cerveja Long Neck 330ml', desc: 'Heineken, Budweiser, Bud, Eisenbahn', price: 10.00, img: 'cerveja.png', badge: '', category: 'Bebidas' },
      { id: 48, name: 'Suco 500ml', desc: 'Sabores: abacaxi com hortelÃ£, acerola com laranja, maracujÃ¡, morango e tamarino', price: 10.00, img: 'suco.png', badge: '', category: 'Bebidas' },
    ];

    // ReferÃªncias DOM
    const menuEl = document.getElementById('menu');
    const searchInput = document.getElementById('search');
    const clearSearchBtn = document.getElementById('clear-search');
    const categoriesEl = document.getElementById('categories');
    const cartEmpty = document.getElementById('cart-empty');
    const cartList = document.getElementById('cart-list');
    const cartTotals = document.getElementById('cart-totals');
    const totalEl = document.getElementById('total');
    const btnClear = document.getElementById('btn-clear');
    const btnCheckout = document.getElementById('btn-checkout');
    const modal = document.getElementById('modal');
    const orderList = document.getElementById('order-list');
    const modalTotal = document.getElementById('modal-total');
    const paymentEl = document.getElementById('payment');
    const cardTypeContainer = document.getElementById('card-type-container');
    const deliveryEl = document.getElementById('delivery-option');
    const deliveryAddressContainer = document.getElementById('delivery-address-container');
    const deliveryBairro = document.getElementById('delivery-address-bairro');
    const deliveryRua = document.getElementById('delivery-address-rua');
    const deliveryNum = document.getElementById('delivery-address-num');
    const whatsappBtn = document.getElementById('whatsapp-btn');

    // Modal de adicionar observaÃ§Ã£o
    const addObsModal = document.getElementById('addObsModal');
    const addObsTitle = document.getElementById('addObsTitle');
    const itemQtyInput = document.getElementById('itemQty');
    const obsTextarea = document.getElementById('itemObs');
    const addObsConfirm = document.getElementById('addObsConfirm');
    const addObsCancel = document.getElementById('addObsCancel');
    const obsDecrease = document.getElementById('obs-decrease');
    const obsIncrease = document.getElementById('obs-increase');
    const obsPreview = document.getElementById('obsPreview');
    const extrasListEl = document.getElementById('extrasList');
    const customTotalEl = document.getElementById('customTotal');

    // Estado do carrinho
    let cart = [];

    // Estado de filtro/pesquisa
    let currentCategory = 'Todos';
    let currentQuery = '';

    // Item temporÃ¡rio sendo adicionado (para modal)
    let tempItem = null;

    // --- Adicionais (com preÃ§os que vocÃª forneceu) ---
    // usei nomes claros; ajuste se quiser outros textos
    const adicionais = [
      { id: 'burg150', nome: 'Burguer extra 150g', preco: 8.00 },
      { id: 'bacon', nome: 'Bacon', preco: 6.00 },
      { id: 'farofa', nome: 'Farofa de bacon', preco: 6.00 },
      { id: 'picles', nome: 'Picles', preco: 5.00 },
      { id: 'cebola_crispy', nome: 'Cebola crispy', preco: 5.00 },
      { id: 'anel_cebola', nome: 'Anel de cebola', preco: 5.00 },
      { id: 'mussarela_emp', nome: 'Mussarela empanada', preco: 8.00 },
      { id: 'queijo_muss', nome: 'Queijo mussarela', preco: 5.00 },
      { id: 'queijo_cheddar', nome: 'Queijo cheddar', preco: 5.00 },
      { id: 'cheddar_cremoso', nome: 'Cheddar cremoso', preco: 8.00 },
      { id: 'salada_completa', nome: 'Salada completa', preco: 5.00 },
      { id: 'burg_galinha', nome: 'Burguer de frango', preco: 6.00 },
      // molhos â€” cada um R$5,00 (maionese da casa, BBQ, especial, baconase)
      { id: 'molho_maio', nome: 'Maionese da casa', preco: 5.00 },
      { id: 'molho_bbq', nome: 'Molho BBQ', preco: 5.00 },
      { id: 'molho_especial', nome: 'Molho especial', preco: 5.00 },
      { id: 'molho_baconase', nome: 'Baconase', preco: 5.00 }
    ];

    // estado temporÃ¡rio de extras selecionados (id -> qtd)
    let extrasSelecionados = {};

    // --- FunÃ§Ã£o: renderizar menu com filtros/pesquisa ---
    function renderMenu(){
      menuEl.innerHTML = '';
      const q = currentQuery.trim().toLowerCase();
      const filtered = menuItems.filter(i=>{
        const matchCat = (currentCategory === 'Todos') || (i.category === currentCategory);
        const matchQuery = !q || i.name.toLowerCase().includes(q) || i.desc.toLowerCase().includes(q);
        return matchCat && matchQuery;
      });
      if(filtered.length === 0){
        menuEl.innerHTML = '<div style="color:#ccc">Nenhum item encontrado.</div>';
        return;
      }
      filtered.forEach(i=>{
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="thumb">${i.img ? `<img src="${i.img}" alt="${i.name}">` : '<span style="color:#ccc">Sem imagem</span>'}</div>
          ${i.badge ? `<div class="badge">${i.badge}</div>` : ''}
          <div class="name">${i.name}</div>
          <div class="price">R$ ${i.price.toFixed(2)}</div>
          <div class="desc">${i.desc}</div>
          <div class="row">
            <button class="btn add-to-cart" data-id="${i.id}">Adicionar</button>
            <div style="font-size:0.85rem;color:#ccc">${i.category}</div>
          </div>
        `;
        menuEl.appendChild(card);
      });

      // Depois de renderizar, anexar listeners nos botÃµes "Adicionar"
      document.querySelectorAll('.add-to-cart').forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          if(!lojaAberta){
            alert('A loja estÃ¡ fechada. Funciona Segunda-SÃ¡bado 18:30â€“22:20');
            return;
          }
          const id = parseInt(e.currentTarget.dataset.id);
          const item = menuItems.find(m=>m.id === id);
          openAddObsModal(item);
        });
      });
    }

    // --- Modal adicionais + observaÃ§Ãµes ---
    function resetExtrasSelecionados(){
      extrasSelecionados = {};
      adicionais.forEach(a => extrasSelecionados[a.id] = 0);
    }

    function renderExtras(){
      extrasListEl.innerHTML = '';
      adicionais.forEach(extra => {
        const row = document.createElement('div');
        row.className = 'extras-row';
        row.innerHTML = `
          <div style="font-size:0.95rem;color:#ddd">${extra.nome} â€” R$ ${extra.preco.toFixed(2)}</div>
          <div class="extra-controls" style="min-width:110px;">
            <button class="btn" data-extra="${extra.id}" data-delta="-1">-</button>
            <span id="extraQty-${extra.id}" style="min-width:28px;text-align:center;display:inline-block">${extrasSelecionados[extra.id]||0}</span>
            <button class="btn" data-extra="${extra.id}" data-delta="1">+</button>
          </div>
        `;
        extrasListEl.appendChild(row);
      });

      // attach listeners
      extrasListEl.querySelectorAll('button[data-extra]').forEach(b=>{
        b.addEventListener('click', (ev)=>{
          const id = ev.currentTarget.dataset.extra;
          const delta = parseInt(ev.currentTarget.dataset.delta);
          alterarExtra(id, delta);
        });
      });
    }

    function alterarExtra(id, delta){
      extrasSelecionados[id] = Math.max(0, (extrasSelecionados[id]||0) + delta);
      const span = document.getElementById(`extraQty-${id}`);
      if(span) span.textContent = extrasSelecionados[id];
      atualizarCustomTotal();
    }

    function calcularUnitarioComExtras(){
      if(!tempItem) return 0;
      let unit = parseFloat(tempItem.price) || 0;
      for(const a of adicionais){
        const q = extrasSelecionados[a.id] || 0;
        unit += q * a.preco;
      }
      return unit;
    }

    function atualizarCustomTotal(){
      const unit = calcularUnitarioComExtras();
      customTotalEl.textContent = `R$ ${unit.toFixed(2)}`;
      return unit;
    }

    function openAddObsModal(item){
      tempItem = item;
      addObsTitle.textContent = `Personalizar: ${item.name}`;
      itemQtyInput.value = 1;
      obsTextarea.value = '';
      obsPreview.style.display = 'none';
      resetExtrasSelecionados();
      renderExtras();
      atualizarCustomTotal();
      addObsModal.classList.add('open');
      addObsModal.setAttribute('aria-hidden','false');
      setTimeout(()=>obsTextarea.focus(),250);
    }

    function closeAddObsModal(){
      tempItem = null;
      addObsModal.classList.remove('open');
      addObsModal.setAttribute('aria-hidden','true');
    }

    obsDecrease.addEventListener('click', ()=>{ let v = parseInt(itemQtyInput.value||1); if(v>1) itemQtyInput.value = v-1; });
    obsIncrease.addEventListener('click', ()=>{ let v = parseInt(itemQtyInput.value||1); itemQtyInput.value = v+1; });
    itemQtyInput.addEventListener('input', ()=>{ if(itemQtyInput.value < 1) itemQtyInput.value = 1; });

    obsTextarea.addEventListener('input', ()=>{
      const txt = obsTextarea.value.trim();
      if(txt) { obsPreview.style.display = 'block'; obsPreview.textContent = 'ObservaÃ§Ã£o: ' + txt; }
      else { obsPreview.style.display = 'none'; obsPreview.textContent = ''; }
    });

    addObsCancel.addEventListener('click', (e)=>{ e.preventDefault(); closeAddObsModal(); });

    // Ao confirmar: cria item com extras, unitPrice e adiciona ao cart (mantendo lÃ³gica anterior)
    addObsConfirm.addEventListener('click', (e)=>{
      e.preventDefault();
      if(!tempItem) return;
      const qty = parseInt(itemQtyInput.value||1);
      const obs = obsTextarea.value.trim();

      // monta array de extras selecionados legÃ­veis
      const extrasArray = adicionais
        .filter(a => (extrasSelecionados[a.id]||0) > 0)
        .map(a => ({ id: a.id, nome: a.nome, preco: a.preco, qtd: extrasSelecionados[a.id] }));

      const unitPrice = calcularUnitarioComExtras(); // preÃ§o unitÃ¡rio jÃ¡ com extras
      // se jÃ¡ existe item id com mesma obs e mesmo extras (mesmo conteÃºdo string), somar qty
      // criamos uma chave de comparaÃ§Ã£o simples
      const extrasKey = extrasArray.map(x => `${x.id}:${x.qtd}`).sort().join('|');
      const compareKey = `${tempItem.id}::${obs}::${extrasKey}`;

      const index = cart.findIndex(ci => ci.compareKey === compareKey);
      if(index > -1){
        cart[index].qty += qty;
      } else {
        cart.push({
          compareKey,
          id: tempItem.id,
          name: tempItem.name,
          basePrice: tempItem.price,
          unitPrice: unitPrice,
          img: tempItem.img,
          qty,
          obs,
          extras: extrasArray
        });
      }

      updateCart();
      closeAddObsModal();
    });

    // --- Atualizar carrinho na UI ---
    function updateCart(){
      if(cart.length === 0){
        cartEmpty.style.display = 'block';
        cartList.style.display = 'none';
        cartTotals.style.display = 'none';
        return;
      }
      cartEmpty.style.display = 'none';
      cartList.style.display = 'flex';
      cartTotals.style.display = 'flex';
      cartList.innerHTML = '';
      let total = 0;
      cart.forEach((item, idx) => {
        const lineTotal = (item.unitPrice || item.basePrice) * item.qty;
        total += lineTotal;
        const div = document.createElement('div');
        div.className = 'cart-item';
        // extras display (if exist)
        let extrasHtml = '';
        if(item.extras && item.extras.length){
          extrasHtml = `<div class="ci-observation">Adicionais: ${item.extras.map(e=>escapeHtml(e.qtd + 'x ' + e.nome)).join(', ')}</div>`;
        }
        div.innerHTML = `
          <div class="ci-thumb">${item.img ? `<img src="${item.img}" alt="${item.name}">` : '<span style="color:#ccc">Sem imagem</span>'}</div>
          <div class="ci-meta">
            <div class="ci-name">${escapeHtml(item.name)}</div>
            <div class="ci-desc">Unit: R$ ${(item.unitPrice||item.basePrice).toFixed(2)} â€¢ Qtd: ${item.qty}</div>
            ${extrasHtml}
            ${item.obs ? `<div class="ci-observation">Obs: ${escapeHtml(item.obs)}</div>` : ''}
          </div>
          <div class="ci-controls">
            <div class="qty">
              <button class="minus" data-idx="${idx}">-</button>
              <span>${item.qty}</span>
              <button class="plus" data-idx="${idx}">+</button>
            </div>
            <div style="margin-top:6px" class="ci-price">R$ ${lineTotal.toFixed(2)}</div>
            <button class="btn remove remove-item" data-idx="${idx}" style="margin-top:8px">Remover</button>
          </div>
        `;
        cartList.appendChild(div);
      });
      totalEl.textContent = 'R$ ' + total.toFixed(2);

      // attach listeners for +/- and remove
      document.querySelectorAll('.minus').forEach(b=>{
        b.addEventListener('click', (e)=>{
          const i = parseInt(e.currentTarget.dataset.idx);
          if(cart[i].qty > 1) cart[i].qty--;
          else cart.splice(i,1);
          updateCart();
        });
      });
      document.querySelectorAll('.plus').forEach(b=>{
        b.addEventListener('click', (e)=>{
          const i = parseInt(e.currentTarget.dataset.idx);
          cart[i].qty++;
          updateCart();
        });
      });
      document.querySelectorAll('.remove-item').forEach(b=>{
        b.addEventListener('click', (e)=>{
          const i = parseInt(e.currentTarget.dataset.idx);
          cart.splice(i,1);
          updateCart();
        });
      });
    }

    // --- Limpar carrinho ---
    btnClear.addEventListener('click', ()=>{ cart = []; updateCart(); });

    // --- Checkout: abrir modal resumo ---
    btnCheckout.addEventListener('click', ()=>{
      if(cart.length === 0){ alert('Carrinho vazio'); return; }
      orderList.innerHTML = '';
      let total = 0;
      cart.forEach(i=>{
        const lineTotal = (i.unitPrice || i.basePrice) * i.qty;
        total += lineTotal;
        const div = document.createElement('div');
        div.className = 'order-item';
        div.innerHTML = `
          ${i.img ? `<img src="${i.img}" alt="${i.name}">` : ''}
          <div style="flex:1">
            <div style="font-weight:700">${escapeHtml(i.name)} x${i.qty}</div>
            <div style="color:#ccc">R$ ${lineTotal.toFixed(2)}</div>
            ${i.extras && i.extras.length ? `<div style="margin-top:6px;color:#ddd;font-size:0.9rem">Adicionais: ${i.extras.map(e=>escapeHtml(e.qtd + 'x ' + e.nome)).join(', ')}</div>` : ''}
            ${i.obs ? `<div style="margin-top:6px;color:#ddd;font-size:0.9rem">Obs: ${escapeHtml(i.obs)}</div>` : ''}
          </div>
        `;
        orderList.appendChild(div);
      });
      modalTotal.textContent = 'R$ ' + total.toFixed(2);
      modal.classList.add('open');
    });

    // fechar modal resumo ao clicar fora (simples)
    modal.addEventListener('click', (e)=>{ if(e.target === modal) modal.classList.remove('open'); });

    // forma de pagamento mostra container cartÃ£o
    paymentEl.addEventListener('change', ()=>{
      cardTypeContainer.style.display = paymentEl.value === 'CartÃ£o' ? 'block' : 'none';
    });

    // delivery
    deliveryEl.addEventListener('change', ()=>{
      deliveryAddressContainer.style.display = deliveryEl.value === 'Delivery' ? 'block' : 'none';
    });

    // confirmar pedido -> abrir WhatsApp com mensagem
    document.getElementById('confirm-order').addEventListener('click', ()=>{
      if(cart.length === 0){ alert('Carrinho vazio'); return; }
      let total = parseFloat(cart.reduce((a,c)=>a + ((c.unitPrice||c.basePrice) * c.qty),0).toFixed(2));
      const payment = paymentEl.value;
      const cardType = payment === 'CartÃ£o' ? document.getElementById('card-type').value : '';
      const deliveryOption = deliveryEl.value;
      let deliveryAddress = '';
      if(deliveryOption === 'Delivery'){
        deliveryAddress = `Bairro: ${deliveryBairro.value}\nRua: ${deliveryRua.value}\nNÃºmero: ${deliveryNum.value}`;
        if(!deliveryBairro.value || !deliveryRua.value || !deliveryNum.value){ alert('Preencha o endereÃ§o'); return; }
        total += 5; // taxa
      }
      let client = prompt('Digite seu nome completo:') || 'Cliente';
      client = client.trim() || 'Cliente';

      let message = `OlÃ¡, aqui Ã© ${client}.\n\nPedido:\n`;
      cart.forEach(i=>{
        const lineTotal = ((i.unitPrice||i.basePrice) * i.qty).toFixed(2);
        message += `- ${i.name} x${i.qty} â€” R$ ${lineTotal}\n`;
        if(i.extras && i.extras.length){
          message += `  Adicionais: ${i.extras.map(e=>`${e.qtd}x ${e.nome}`).join(', ')}\n`;
        }
        if(i.obs) message += `  Obs: ${i.obs}\n`;
      });
      if(deliveryOption === 'Delivery'){ message += `Taxa de Delivery: R$ 5,00\n`; }
      message += `Total: R$ ${total.toFixed(2)}\n`;
      message += `Forma de pagamento: ${payment} ${cardType ? `(${cardType})` : ''}\n`;
      if(deliveryOption === 'Delivery'){ message += `EndereÃ§o para entrega:\n${deliveryAddress}\n`; }

      const whatsappNumber = "5518991616645";
      const url = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
      window.open(url,'_blank');

      // limpar apÃ³s enviar
      cart = [];
      updateCart();
      modal.classList.remove('open');
    });

    // BotÃ£o WhatsApp flutuante (abre conversa)
    whatsappBtn.addEventListener('click', ()=>{
      const whatsappNumber = "5518991616645";
      window.open(`https://wa.me/${whatsappNumber}`, '_blank');
    });

    // --- Pesquisa e categorias ---
    searchInput.addEventListener('input', (e)=>{
      currentQuery = e.target.value;
      renderMenu();
    });
    clearSearchBtn.addEventListener('click', ()=>{
      searchInput.value = '';
      currentQuery = '';
      renderMenu();
    });

    categoriesEl.addEventListener('click', (e)=>{
      const btn = e.target.closest('.cat-btn');
      if(!btn) return;
      // toggle active class
      document.querySelectorAll('.cat-btn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      currentCategory = btn.dataset.cat;
      renderMenu();
    });

    // --- Util: escape para evitar injeÃ§Ã£o de HTML via observaÃ§Ãµes ---
    function escapeHtml(unsafe) {
      return String(unsafe || '')
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    }

    // --- InicializaÃ§Ã£o ---
    renderMenu();
    updateCart();

    // Small UX: fechar add-obs modal com ESC / clicar fora
    addObsModal.addEventListener('click', (e)=>{ if(e.target === addObsModal) closeAddObsModal(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ if(addObsModal.classList.contains('open')) closeAddObsModal(); if(modal.classList.contains('open')) modal.classList.remove('open'); } });
  </script>
</body>
</html>
