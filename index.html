<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <title>ùëΩ√≠ùíóùíÜùíìùíÜùíî ùë©ùíñùíìùíàùíñùíÜùíì</title>
  <style>
    /* Base (desktop e telas grandes) */
    .thumb img[src*="agua"],
    .thumb img[src*="aguagas"],
    .thumb img[src*="coca"],
    .thumb img[src*="sprite"],
    .thumb img[src*="guarana"],
    .thumb img[src*="cocazero"],
    .thumb img[src*="cerveja"],
    .thumb img[src*="suco"] {
      object-fit: contain;
      width: 100%;
      height: 170px;
      background-color: transparent;
      padding: 5px;
      transition: height 0.3s ease, padding 0.3s ease;
    }

    /* Tablets e celulares grandes */
    @media (max-width: 768px) {

      .thumb img[src*="agua"],
      .thumb img[src*="aguagas"],
      .thumb img[src*="coca"],
      .thumb img[src*="cocazero"],
      .thumb img[src*="cerveja"],
      .thumb img[src*="suco"] {
        height: 220px;
        padding: 6px;
      }
    }

    /* Smartphones m√©dios (ex: iPhone 6.1‚Äù) */
    @media (min-width: 414px) and (max-width: 900px) {

      .thumb img[src*="agua"],
      .thumb img[src*="aguagas"],
      .thumb img[src*="coca"],
      .thumb img[src*="sprite"],
      .thumb img[src*="guarana"],
      .thumb img[src*="cocazero"],
      .thumb img[src*="cerveja"],
      .thumb img[src*="suco"] {
        height: 230px;
        padding: 6px;
      }
    }

    /* Smartphones grandes 6.7‚Äù */
    @media (min-width: 430px) and (max-width: 932px) {

      .thumb img[src*="agua"],
      .thumb img[src*="aguagas"],
      .thumb img[src*="coca"],
      .thumb img[src*="sprite"],
      .thumb img[src*="guarana"],
      .thumb img[src*="cocazero"],
      .thumb img[src*="cerveja"],
      .thumb img[src*="suco"] {
        height: 260px;
        padding: 7px;
      }
    }

    /* Smartphones extra grandes 6.9‚Äù */
    @media (min-width: 461px) and (max-width: 500px) {

      .thumb img[src*="agua"],
      .thumb img[src*="aguagas"],
      .thumb img[src*="coca"],
      .thumb img[src*="sprite"],
      .thumb img[src*="guarana"],
      .thumb img[src*="cocazero"],
      .thumb img[src*="cerveja"],
      .thumb img[src*="suco"] {
        height: 240px;
        padding: 8px;
      }
    }

    /* Smartphones pequenos (ex: iPhone SE) */
    @media (max-width: 390px) {

      .thumb img[src*="agua"],
      .thumb img[src*="aguagas"],
      .thumb img[src*="coca"],
      .thumb img[src*="sprite"],
      .thumb img[src*="guarana"],
      .thumb img[src*="cocazero"],
      .thumb img[src*="cerveja"],
      .thumb img[src*="suco"] {
        height: 210px;
        padding: 8px;
      }
    }

    :root {
      --orange: #ff6600;
      --black: #111;
      --dark: #222;
      --white: #fff;
      --red: #ff3b3b;
      --green: #25d366;
    }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--black);
      color: var(--white);
    }

    header {
      background: var(--black);
      border-bottom: 2px solid var(--orange);
      padding: 12px 16px;
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .left-header {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    header .logo {
      width: 48px;
      height: 48px;
      object-fit: contain;
      border-radius: 8px;
    }

    header .site-name {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--orange);
    }

    /* Search & categories */
    .controls {
      max-width: 1200px;
      margin: 18px auto 0;
      padding: 0 16px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .search-row {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .search-row input[type="search"] {
      flex: 1;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid #333;
      background: #111;
      color: #fff;
      font-size: 1rem;
    }

    .categories {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .cat-btn {
      background: transparent;
      color: #ccc;
      border: 1px solid rgba(255, 255, 255, 0.06);
      padding: 8px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 700;
    }

    .cat-btn.active {
      background: var(--orange);
      color: #111;
      border-color: var(--orange);
    }

    /* Container e layout */
    .container {
      max-width: 1200px;
      margin: 12px auto;
      padding: 0 16px;
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 24px;
    }

    .menu {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 18px;
    }

    /* Cards */
    .card {
      background: var(--dark);
      border-radius: 14px;
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      position: relative;
      transition: 0.3s;
    }

    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
    }

    .thumb {
      width: 100%;
      aspect-ratio: 4/3;
      border-radius: 10px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #333;
    }

    .thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .badge {
      position: absolute;
      top: 8px;
      left: 8px;
      background: var(--orange);
      color: #fff;
      font-size: 0.75rem;
      padding: 4px 8px;
      border-radius: 8px;
    }

    .name {
      font-weight: 700;
      color: var(--orange);
    }

    .price {
      font-weight: 800;
      color: var(--orange);
    }

    .desc {
      font-size: 0.92rem;
      color: #ccc;
      margin-top: 6px;
    }

    .row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: auto;
    }

    .btn {
      background: var(--orange);
      color: #fff;
      border: none;
      padding: 10px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 700;
      transition: 0.12s;
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn.remove {
      background: var(--red);
    }

    /* Carrinho */
    .cart {
      position: relative;
      background: var(--black);
      border-radius: 14px;
      padding: 16px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      min-height: 220px;
    }

    .cart h3 {
      margin: 0 0 6px 0;
      color: var(--orange);
    }

    .cart-empty {
      color: #ccc;
      padding: 18px;
      background: var(--dark);
      border-radius: 10px;
      text-align: center;
    }

    .cart-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-height: 420px;
      overflow: auto;
    }

    .cart-item {
      display: flex;
      gap: 12px;
      align-items: center;
      padding: 8px;
      border-radius: 10px;
      background: #333;
    }

    .ci-thumb {
      width: 64px;
      height: 64px;
      border-radius: 8px;
      overflow: hidden;
      flex-shrink: 0;
    }

    .ci-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .ci-meta {
      flex: 1;
    }

    .ci-meta .ci-name {
      font-weight: 700;
    }

    .ci-meta .ci-desc {
      font-size: 0.9rem;
      color: #ccc;
    }

    .ci-observation {
      font-size: 0.85rem;
      color: #ddd;
      margin-top: 6px;
      background: #1a1a1a;
      padding: 6px;
      border-radius: 6px;
    }

    .ci-controls {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 6px;
    }

    .qty {
      display: inline-flex;
      align-items: center;
      border-radius: 10px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .qty button {
      background: transparent;
      border: 0;
      padding: 8px 10px;
      cursor: pointer;
      font-weight: 700;
      color: #fff;
    }

    .qty span {
      display: inline-block;
      padding: 8px 10px;
      min-width: 28px;
      text-align: center;
      color: #fff;
    }

    .ci-price {
      font-weight: 800;
      color: var(--orange);
    }

    .totals {
      margin-top: 14px;
      border-top: 1px dashed rgba(255, 255, 255, 0.2);
      padding-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .totals .row {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .checkout {
      margin-top: 8px;
      display: flex;
      gap: 10px;
    }

    .checkout .btn {
      flex: 1;
    }

    /* Modal geral */
    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.8);
      z-index: 80;
      padding: 16px;
    }

    .modal.open {
      display: flex;
    }

    .modal-card {
      width: 100%;
      max-width: 540px;
      background: var(--dark);
      border-radius: 14px;
      padding: 18px;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.25);
      color: #fff;
    }

    .order-list {
      max-height: 260px;
      overflow: auto;
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .order-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .order-item img {
      width: 48px;
      height: 48px;
      object-fit: cover;
      border-radius: 6px;
    }

    /* Inputs */
    select,
    input,
    textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      margin-top: 6px;
      background: #333;
      border: 1px solid #555;
      color: #fff;
      box-sizing: border-box;
    }

    textarea {
      min-height: 80px;
      resize: vertical;
    }

    /* Add-obs modal (when adding item) */
    .add-obs-modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.6);
      z-index: 90;
      padding: 12px;
    }

    .add-obs-modal.open {
      display: flex;
    }

    .add-obs-card {
      width: 90%;
      max-width: 520px;
      background: var(--dark);
      padding: 16px;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-height: 90vh;
      /* Altura m√°xima da tela */
      overflow: hidden;
      box-sizing: border-box;
      position: relative;
    }

    /* Lista de adicionais com scroll interno */
    .adicionais-list,
    #extrasList {
      flex: 1 1 auto;
      overflow-y: auto;
      padding-right: 6px;
      max-height: 50vh;
      /* Limite para n√£o ultrapassar o modal */
    }

    /* Responsivo para celulares */
    @media (max-width: 480px) {
      .add-obs-card {
        width: 90%;
        padding: 12px;
        gap: 10px;
      }

      .add-obs-card h3 {
        font-size: 1.1rem;
      }

      .concluir-btn,
      #addObsConfirm {
        font-size: 0.95rem;
        padding: 10px;
      }

      #addObsCancel {
        padding: 8px 10px;
        font-size: 0.95rem;
      }
    }

    .add-obs-modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(6px);
      z-index: 999;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .add-obs-modal.open {
      display: flex;
    }

    .add-obs-card {
      width: 100%;
      max-width: 480px;
      background: #1e1e1e;
      color: #fff;
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
      display: flex;
      flex-direction: column;
      gap: 16px;
      max-height: 90vh;
      overflow-y: auto;
    }

    .add-obs-card h3 {
      margin: 0;
      color: #ff6600;
      text-align: center;
    }

    .price-info {
      font-size: 0.9rem;
      color: #ccc;
      text-align: center;
    }

    .qty-controls {
      display: flex;
      gap: 8px;
      align-items: center;
      margin-top: 6px;
    }

    .qty-controls input {
      width: 60px;
      text-align: center;
      padding: 6px;
      border-radius: 6px;
      border: none;
      background: #2b2b2b;
      color: #fff;
    }

    .extras-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      max-height: 180px;
      overflow-y: auto;
    }

    .extras-list label {
      background: #2b2b2b;
      border-radius: 8px;
      padding: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    .extras-list label:hover {
      background: #3a3a3a;
    }

    #itemObs {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: none;
      resize: none;
      height: 80px;
      background: #2b2b2b;
      color: #fff;
    }

    .modal-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 12px;
      flex-wrap: wrap;
      gap: 8px;
    }

    .footer-buttons {
      display: flex;
      gap: 8px;
    }

    .btn {
      padding: 10px 14px;
      border-radius: 10px;
      cursor: pointer;
      border: none;
    }

    .btn.remove {
      background: transparent;
      border: 1px solid #aaa;
      color: #aaa;
    }

    .btn.remove:hover {
      border-color: #fff;
      color: #fff;
    }

    .btn.confirm {
      background: #ff6600;
      color: #fff;
      font-weight: bold;
    }

    .btn.confirm:hover {
      background: #ff8533;
    }

    /* Responsividade */
    @media (max-width: 480px) {
      .add-obs-card {
        padding: 16px;
        gap: 12px;
      }

      .add-obs-card h3 {
        font-size: 1.2rem;
      }

      #itemObs {
        height: 70px;
        font-size: 0.9rem;
      }

      .btn {
        padding: 8px 10px;
        font-size: 0.9rem;
      }

      .footer-buttons {
        flex-direction: column;
        width: 100%;
      }
    }



    .add-obs-row {
      display: flex;
      gap: 8px;
      margin-top: 10px;
    }

    .small {
      font-size: 0.9rem;
      color: #ccc;
    }

    .obs-preview {
      font-size: 0.9rem;
      color: #ddd;
      margin-top: 8px;
      background: #111;
      padding: 8px;
      border-radius: 8px;
    }

    .extras-row {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 8px;
      align-items: center;
      padding: 8px;
      background: #1a1a1a;
      border-radius: 8px;
    }

    .extra-controls {
      display: flex;
      gap: 6px;
      align-items: center;
    }

    /* Footer */
    #footer {
      background: #111;
      color: var(--orange);
      padding: 16px 20px;
      text-align: center;
      font-family: 'Inter', sans-serif;
      font-size: 0.95rem;
      border-top: 2px solid var(--orange);
    }

    .footer-content {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .footer-content .site-info {
      font-weight: 700;
      font-size: 1.1rem;
    }

    .footer-content .developer {
      font-weight: 400;
      font-size: 0.9rem;
      color: #ccc;
    }

    @media(min-width:480px) {
      .footer-content {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
      }
    }

    /* Responsividade */
    @media(max-width:980px) {
      .container {
        grid-template-columns: 1fr 340px;
      }
    }

    @media(max-width:760px) {
      .container {
        grid-template-columns: 1fr;
      }

      .cart {
        order: 2;
        margin-top: 18px;
      }
    }

    /* WhatsApp float */
    #whatsapp-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--green);
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      z-index: 95;
    }
    .controls {
  display: flex;
  align-items: center;
}
#toggle-categories {
  position: absolute;
  right: 10px;
  top: 10px;
}

  </style>
</head>

<body>
  <header>
    <div class="header-content">
      <div class="left-header">
        <img src="logo.png" alt="Logo Viveres Burger" class="logo">
        <span class="site-name">ùëΩ√≠ùíóùíÜùíìùíÜùíî ùë©ùíñùíìùíàùíñùíÜùíì</span>
      </div>
    </div>
  </header>

  <div class="controls"
    style="max-width:1200px;margin:0 auto;display:flex;align-items:center;gap:6px;padding:0 10px;flex-wrap:wrap;">
    <!-- Bot√£o ‚ò∞ -->

<div class="controls">
  <button id="toggle-categories"
    style="color:#fff; background:#ff6600; border:1px solid #ff6600;
           border-radius:6px; padding:8px 10px; cursor:pointer;
           font-size:18px; margin-left:auto; margin-top:6px;">
    ‚ò∞
  </button>
</div>


  <!-- conte√∫do das categorias -->


  
    <!-- Barra de pesquisa -->
    <div class="search-row" style="flex:1;position:relative;min-width:150px;">
      <input type="search" id="search" placeholder="Pesquisar no card√°pio"
        style="width:100%;padding:12px 50px 12px 12px;font-size:16px;border:1px solid #ff6600;border-radius:8px;">
      <button id="clear-search" title="Limpar pesquisa"
        style=" color:#ffff;position:absolute;right:10px;top:50%;transform:translateY(-50%);background:#ff6600;border:none;padding:6px 10px;border-radius:6px;font-size:14px;cursor:pointer;margin-top: 3px;">
        Limpar
      </button>
    </div>
  </div>

  <!-- Categorias ocultas -->
  <div class="categories" id="categories">
    <button class="cat-btn" data-cat="Lanches">Lanches</button>
    <button class="cat-btn" data-cat="Bebidas">Bebidas</button>
    <button class="cat-btn" data-cat="Por√ß√µes">Por√ß√µes</button>
    <button class="cat-btn" data-cat="Sobremesa">Sobremesa</button>
  </div>

  <main class="container">
    <section>
      <h2 style="margin:0 0 12px 0">Nosso Card√°pio</h2>
      <div class="menu" id="menu"></div>
    </section>

<aside class="cart">
  <h3>Seu Carrinho</h3>
  <div id="cart-empty" class="cart-empty">Carrinho vazio</div>
  <div class="cart-list" id="cart-list" style="display:none"></div>
  <div class="totals" id="cart-totals" style="display:none">
    <div class="row">
      <div>Total</div>
      <div id="total">R$ 0,00</div>
    </div>

    <div style="margin-top:6px">
      <label for="payment">Forma de pagamento:</label>
      <select id="payment">
        <option value="">Selecione...</option>
        <option value="Dinheiro">Dinheiro</option>
        <option value="Pix">Pix</option>
        <option value="Cart√£o">Cart√£o</option>
      </select>
    </div>

    <div id="pixLinkContainer" style="margin-top:6px; display:none;">
      <a id="pixLink" href="#" target="_blank"></a>
    </div>

    <div class="checkout">
      <button class="btn" id="btn-checkout">Finalizar Pedido</button>
      <button class="btn remove" id="btn-clear">Limpar</button>
    </div>
  </div>
</aside>




<script>
window.addEventListener('DOMContentLoaded', () => {
  const contador = document.getElementById("cart-count");
  const carrinhoEl = document.getElementById("cart-list");
  const cartTotals = document.getElementById("cart-totals");
  const paymentSelect = document.getElementById("payment");
  const pixContainer = document.getElementById("pixLinkContainer");
  const finalizarBtn = document.getElementById("btn-checkout");
  const limparBtn = document.getElementById("btn-clear");

  let carrinho = [];

  // Inicialmente, bot√£o desabilitado
  finalizarBtn.disabled = true;

  // Fun√ß√£o que verifica se o bot√£o pode ser habilitado
  function verificarBotao() {
    finalizarBtn.disabled = carrinho.length === 0 || !paymentSelect.value;
  }

  // Adicionar itens ao carrinho
  document.querySelectorAll('.add-to-cart').forEach(btn => {
    btn.addEventListener('click', () => {
      const item = btn.dataset.nomeProduto || "Produto";
      carrinho.push(item);
      atualizarCarrinho();
      verificarBotao();
    });
  });

  // Mostrar/esconder Pix automaticamente
  paymentSelect.addEventListener("change", () => {
    pixContainer.style.display = paymentSelect.value === "Pix" ? "block" : "none";
    verificarBotao();
  });

  // Finalizar pedido
  finalizarBtn.addEventListener("click", () => {
    if (carrinho.length === 0 || !paymentSelect.value) return; // n√£o avan√ßa se n√£o selecionou

    // Zera carrinho e resetar sele√ß√£o
    carrinho = [];
    paymentSelect.value = "";
    pixContainer.style.display = "none";
    atualizarCarrinho();
    verificarBotao();
  });

  // Limpar carrinho
  limparBtn.addEventListener("click", () => {
    carrinho = [];
    paymentSelect.value = "";
    pixContainer.style.display = "none";
    atualizarCarrinho();
    verificarBotao();
  });

  // Atualiza contador e visual do carrinho
  function atualizarCarrinho() {
    contador.textContent = carrinho.length;
    carrinhoEl.style.display = carrinho.length > 0 ? "block" : "none";
    cartTotals.style.display = carrinho.length > 0 ? "block" : "none";

    carrinhoEl.innerHTML = "";
    carrinho.forEach(item => {
      const div = document.createElement("div");
      div.textContent = item;
      carrinhoEl.appendChild(div);
    });
  }
});


</script>



<script>
// Fun√ß√£o chamada quando muda o select
function toggleTroco() {
  const payment = document.getElementById('payment').value;
  const pixContainer = document.getElementById('pixLinkContainer');
  
  if (payment === "Dinheiro") {
    pixContainer.style.display = "none";
    // Aqui voc√™ pode mostrar o campo "troco"
  } else if (payment === "Pix") {
    pixContainer.style.display = "block";
    gerarPix();
  } else {
    pixContainer.style.display = "none";
  }
}


// Fun√ß√£o que gera link do Pix
function gerarPix() {
  const chavePix = "5518991616645"; // sua chave
  const contador = parseInt(document.getElementById("cart-count").textContent) || 0;
  const valor = (contador * 10).toFixed(2); // Exemplo: cada item R$10,00 (substitua pelo total real)
  
  // Cria link Pix padr√£o para pagamento
  // Formato: https://pix.example.com?chave=CHAVE&valor=VALOR
  // Aqui vamos usar link Pix padr√£o do Banco Central (geralmente QR Code pode ser gerado via URL)
  
  // Exemplo simples (Pix Copia e Cola, pode variar dependendo do banco)
  const pixUrl = `https://api.whatsapp.com/send?text=Pix%20no%20valor%20de%20R$${valor}%20para%20a%20chave%20${chavePix}`;
  
  document.getElementById("pixLink").href = pixUrl;
  document.getElementById("pixLink").textContent = `Pagar R$ ${valor} via Pix`;
}
</script>


<!-- Campo do troco (come√ßa escondido) -->
<div id="trocoDiv" style="display:none; margin-top:6px;">
  <label for="troco">Precisa de troco? Para quanto?</label>
  <input type="text" id="troco" placeholder="Ex: R$ 50,00">
</div>

<script>
  function toggleTroco() {
  const payment = document.getElementById('payment').value;
  const pixContainer = document.getElementById('pixLinkContainer');
  
  if (payment === "Dinheiro") {
    pixContainer.style.display = "none";
    // Aqui voc√™ pode mostrar o campo "troco"
  } else if (payment === "Pix") {
    pixContainer.style.display = "block";
    gerarPix();
  } else {
    pixContainer.style.display = "none";
  }
}

// Fun√ß√£o que gera link do Pix
function gerarPix() {
  const chavePix = "5518991616645"; // sua chave
  const contador = parseInt(document.getElementById("cart-count").textContent) || 0;
  const valor = (contador * 10).toFixed(2); // Exemplo: cada item R$10,00 (substitua pelo total real)
  
  // Cria link Pix padr√£o para pagamento
  // Formato: https://pix.example.com?chave=CHAVE&valor=VALOR
  // Aqui vamos usar link Pix padr√£o do Banco Central (geralmente QR Code pode ser gerado via URL)
  
  // Exemplo simples (Pix Copia e Cola, pode variar dependendo do banco)
  const pixUrl = `https://api.whatsapp.com/send?text=Pix%20no%20valor%20de%20R$${valor}%20para%20a%20chave%20${chavePix}`;
  
  document.getElementById("pixLink").href = pixUrl;
  document.getElementById("pixLink").textContent = `Pagar R$ ${valor} via Pix`;
}
</script>

     

  <!-- Modal resumo -->
  <div class="modal" id="modal">
    <div class="modal-card">
      <h2>Resumo do Pedido</h2>
      <div class="order-list" id="order-list"></div>

      <div style="margin-top:12px">
        <div class="row" style="display:flex;justify-content:space-between;font-weight:800;font-size:1.1rem">
          <div>Total</div>
          <div id="modal-total">R$ 0,00</div>
        </div>

        <div style="margin-top:12px;display:flex;gap:8px;flex-direction:column">
          <label for="delivery-option">Retirada ou Delivery:</label>
          <select id="delivery-option">
            <option value="Retirar">Retirar no local</option>
            <option value="Delivery">Delivery (+R$5,00)</option>
          </select>

          <div id="card-type-container" style="display:none">
            <label for="card-type">Se cart√£o, escolha:</label>
            <select id="card-type">
              <option value="D√©bito">D√©bito</option>
              <option value="Cr√©dito">Cr√©dito</option>
            </select>
          </div>

          <div id="delivery-address-container" style="display:none">
            <label for="delivery-address">Endere√ßo para entrega:</label>
            <input type="text" id="delivery-address-bairro" placeholder="Bairro">
            <input type="text" id="delivery-address-rua" placeholder="Rua">
            <input type="text" id="delivery-address-num" placeholder="N√∫mero">
            <input type="text" id="delivery-address-pon" placeholder="Ponto de Refer√™ncia">
          </div>

          <button class="btn" id="confirm-order">Confirmar Pedido</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para adicionar observa√ß√£o e adicionais ao item -->
  <div class="add-obs-modal" id="addObsModal" aria-hidden="true">
    <div class="add-obs-card">
      <h3 id="addObsTitle">Personalizar item</h3>
      <div id="addObsPriceInfo" class="price-info">Escolha adicionais e observa√ß√µes.</div>

      <div class="qty-section" style="margin-top:10px;">
        <label for="itemQty">Quantidade do item:</label>
        <div class="qty-controls">
          <button class="btn" id="obs-decrease">-</button>
          <input type="number" id="itemQty" value="1" min="1">
          <button class="btn" id="obs-increase">+</button>
        </div>
      </div>

      <h4 class="extras-title">Adicionais</h4>
      <div id="extrasList" class="extras-list"></div>

      <label for="itemObs" class="obs-label">Observa√ß√µes / instru√ß√µes</label>
      <textarea id="itemObs" placeholder="Ex: ponto da carne, sem cebola..."></textarea>
      <div class="obs-preview" id="obsPreview" style="display:none;"></div>

      <div class="modal-footer">
        <strong>Total unit√°rio: <span id="customTotal">R$ 0,00</span></strong>
        <div class="footer-buttons">
          <button class="btn remove" id="addObsCancel">Cancelar</button>
          <button class="btn confirm" id="addObsConfirm">Adicionar ao Carrinho</button>
        </div>
      </div>
    </div>
  </div>
</main>
  <footer id="footer">
    <div class="footer-content">
      <span class="site-info">ùëΩ√≠ùíóùíÜùíìùíÜùíî ùë©ùíñùíìùíàùíñùíÜùíì</span>
      <span class="developer">Desenvolvido por <strong>Gabriella Fiordelice</strong></span>
    </div>
  </footer>

  <!-- Bot√£o WhatsApp flutuante -->
  <button class="whatsapp-btn" id="whatsapp-btn"><i class="fab fa-whatsapp"></i></button>

  <!-- BOT√ÉO FLUTUANTE -->
<button id="scrollToBottom" title="Ir para o final">
  <i class="fa fa-shopping-cart"></i>
  <span id="cart-count">0</span>
</button>

<button id="scrollToTop" title="Voltar ao topo">
  <i class="fa-solid fa-chevron-up"></i>
</button>


<script>
window.addEventListener('DOMContentLoaded', () => {
  const contador = document.getElementById("cart-count");
  const finalizarBtn = document.getElementById("finalizarPedido");
  const carrinhoEl = document.getElementById("carrinho"); // container dos itens visuais

  let carrinho = []; // array que vai guardar os itens do carrinho

  // Adicionar item
  document.querySelectorAll('.add-to-cart').forEach(btn => {
    btn.addEventListener('click', () => {
      const item = btn.dataset.nomeProduto || "Produto";
      carrinho.push(item); // adiciona no array
      atualizarCarrinho();
    });
  });

  document.getElementById("scrollToBottom").addEventListener("click", () => {
  window.scrollTo({ top: document.documentElement.scrollHeight, behavior: "smooth" });
});
  // Finalizar pedido
  if (finalizarBtn) {
    finalizarBtn.addEventListener("click", () => {
      if (carrinho.length > 0) {
        alert("Pedido enviado via WhatsApp!");
        carrinho = []; // limpa o array do carrinho
        atualizarCarrinho(); // atualiza contador e DOM
      } else {
        alert("O carrinho est√° vazio!");
      }
    });
  }

  // Fun√ß√£o que atualiza contador e visual do carrinho
  function atualizarCarrinho() {
    contador.textContent = carrinho.length;

    if (carrinhoEl) {
      carrinhoEl.innerHTML = ""; // limpa o DOM
      carrinho.forEach(item => {
        const div = document.createElement("div");
        div.textContent = item;
        carrinhoEl.appendChild(div);
      });
    }
  }
});

// Bot√£o "Voltar ao topo"
const scrollToTopBtn = document.getElementById("scrollToTop");

if (scrollToTopBtn) {
  scrollToTopBtn.addEventListener("click", () => {
    window.scrollTo({
      top: 0,
      behavior: "smooth"
    });
  });
}



</script>



<style>

  .btn:disabled {
  background: #ccc !important;
  cursor: not-allowed;
  color: #666;
  box-shadow: none;
}
#scrollToTop {
  position: fixed;
  top: 90px; /* posi√ß√£o padr√£o para desktop */
  right: 20px;
  background: linear-gradient(135deg, #ff6600, #ff9500);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 42px;
  height: 42px;
  cursor: pointer;
  font-size: 21px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
  z-index: 1000;
}

#scrollToTop:hover {
  transform: translateY(-4px) scale(1.1);
  box-shadow: 0 10px 25px rgba(255, 102, 0, 0.5);
  background: linear-gradient(135deg, #ff7b00, #ffaa33);
}

#scrollToTop i {
  animation: floatArrow 1.5s infinite ease-in-out;
}

@keyframes floatArrow {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}

/* Responsividade */
@media (max-width: 1024px) {
  #scrollToTop {
    top: 85px;
    right: 18px;
    width: 40px;
    height: 40px;
    font-size: 20px;
  }
}

@media (max-width: 768px) {
  #scrollToTop {
    top: 95px; /* üëà abaixado um pouco no tablet */
    right: 15px;
    width: 38px;
    height: 38px;
    font-size: 19px;
  }
}

@media (max-width: 480px) {
  #scrollToTop {
    top: 105px; /* üëà abaixado um pouco mais no celular */
    right: 12px;
    width: 35px;
    height: 35px;
    font-size: 18px;
  }
}

/* anima√ß√£o leve na setinha */
@keyframes floatArrow {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}



  #scrollToBottom {
  position: fixed;
  bottom: 85px;
  right: 20px;
  background: #ff7b00;
  color: white;
  border: none;
  border-radius: 50%;
  width: 58px;
  height: 58px;
  cursor: pointer;
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: 0.3s;
  z-index: 1000;
}
#scrollToBottom:hover { background: #e65c00; transform: scale(1.1); }
#scrollToBottom i { pointer-events: none; }
#cart-count {
  position: absolute;
  top: 5px;
  right: 5px;
  background: #ff1515;
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  font-size: 12px;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  box-shadow: 0 0 6px rgba(0,0,0,0.3);
}

</style>

<!-- Link do √≠cone (adiciona no <head> do seu HTML caso ainda n√£o tenha) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">


  <style>
    /* Toast responsivo e centralizado */
    .toast {
      position: fixed;
      bottom: 70px;
      /* fica acima do rodap√©/carrinho */
      left: 50%;
      transform: translateX(-50%) translateY(30px);
      background: linear-gradient(135deg, #dcd7d7, #ff6600);
      color: #2e2e2e;
      padding: 14px 26px;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
      font-size: 16px;
      font-weight: 500;
      opacity: 0;
      pointer-events: none;
      transition: all 0.4s ease;
      z-index: 9999;
      display: flex;
      align-items: center;
      gap: 10px;
      width: 60%;
      /* ocupa at√© 90% da largura da tela */
      max-width: 400px;
      /* mas n√£o passa de 400px ‚Äî bom pro desktop */
      text-align: center;
      /* texto centralizado dentro do toast */
    }
/* Para celulares pequenos */

    /* Quando aparecer */
    .toast.show {
      opacity: 1;
      pointer-events: auto;
      transform: translateX(-50%) translateY(0);
    }

    /* Tema alternativo: loja fechada */
    .toast.closed {
      background: linear-gradient(135deg, #e74c3c, #ff6b6b);
      color: #fff;
    }

    /* Ajuste fino para telas pequenas */
    @media (max-width: 480px) {
      .toast {
        bottom: 50px;
        /* um pouco mais alto no celular */
        font-size: 14px;
        /* texto menor */
        padding: 12px 18px;
      }
    }


    .categories {
      display: none;
      flex-wrap: wrap;
      gap: 6px;
      justify-content: center;
      margin: 10px auto 0;
      max-width: 1200px;
      padding: 0 10px;
      transition: all 0.3s ease;
    }

    .categories.show {
      display: flex;
    }

    /* Layout principal */
body {
  display: flex;
  flex-direction: column;
  min-height: 100vh; /* ocupa toda altura da tela */
  margin: 0;
}

/* Main ocupa o espa√ßo dispon√≠vel */
main {
  flex: 1;
}

/* Footer fixo no final */
footer {
  flex-shrink: 0; /* garante que n√£o encolha */
  background-color: #222;
  color: white;
  padding: 12px 16px;
  text-align: center;
}

  </style>

<div id="toast" class="toast">Produto adicionado ao carrinho com sucesso!</div>

<script>
  // Fun√ß√£o para exibir mensagem na tela
  function showToast(message) {
    const toast = document.getElementById('toast');
    toast.textContent = message;
    toast.classList.add('show');

    setTimeout(() => {
      toast.classList.remove('show');
    }, 3000);
  }

const toggleBtn = document.getElementById('toggle-categories');
const categories = document.getElementById('categories');

// Exibe automaticamente ao carregar
if (categories) {
  categories.classList.add('show');
}

// Continua permitindo abrir/fechar manualmente
if (toggleBtn) {
  toggleBtn.addEventListener('click', () => {
    categories.classList.toggle('show');
  });
}



  // Fun√ß√£o que verifica se a loja est√° aberta
  function isStoreOpen() {
    const agora = new Date();
    const diaSemana = agora.getDay(); // 0 = Domingo, 6 = S√°bado
    const hora = agora.getHours();
    const minuto = agora.getMinutes();
    const minutosTotais = hora * 60 + minuto;

    const abertura = 18 * 60 + 30; // 18:30
    const fechamento = 22 * 60 + 20; // 22:20

    // Aberto de segunda (1) a s√°bado (6)
    const diaValido = diaSemana >= 1 && diaSemana <= 6;
    const horarioValido = minutosTotais >= abertura && minutosTotais <= fechamento;

    return diaValido && horarioValido;
  }

  

  // Verifica clique nos bot√µes de adicionar ao carrinho
  document.addEventListener('click', (e) => {
    const button = e.target.closest('.add-to-cart');
    if (!button) return;

    if (isStoreOpen()) {
      showToast(" Produto adicionado ao carrinho com sucesso!");
      // aqui vai o c√≥digo para adicionar ao carrinho...
    } else {
      showToast("Estamos fechados. Tente novamente dentro do hor√°rio de funcionamento.");
    }
  });
</script>

<style>
/* Toast responsivo e centralizado */
    .toast {
      position: fixed;
      bottom: 70px;
      /* fica acima do rodap√©/carrinho */
      left: 50%;
      transform: translateX(-50%) translateY(30px);
      background: linear-gradient(135deg, #dcd7d7, #ff6600ea);
      color: #2e2e2e;
      padding: 14px 26px;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
      font-size: 16px;
      font-weight: 500;
      opacity: 0;
      pointer-events: none;
      transition: all 0.4s ease;
      z-index: 9999;
      display: flex;
      align-items: center;
      gap: 10px;
      width: 60%;
      /* ocupa at√© 90% da largura da tela */
      max-width: 400px;
      /* mas n√£o passa de 400px ‚Äî bom pro desktop */
      text-align: center;
      /* texto centralizado dentro do toast */
    }
/* Para celulares pequenos */

    /* Quando aparecer */
    .toast.show {
      opacity: 1;
      pointer-events: auto;
      transform: translateX(-50%) translateY(0);
    }

    /* Tema alternativo: loja fechada */
    .toast.closed {
      background: linear-gradient(135deg, #e74c3c, #ff6b6b);
      color: #fff;
    }

    /* Ajuste fino para telas pequenas */
    @media (max-width: 480px) {
      .toast {
        bottom: 2px;
        /* um pouco mais alto no celular */
        font-size: 14px;
        /* texto menor */
        padding: 12px 18px;
      }
    }
</style>


  <script>
    // --- HOR√ÅRIO (mantive sua l√≥gica) ---
    function verificarHorarioFuncionamento() {
      const agora = new Date();
      const utc = agora.getTime() + (agora.getTimezoneOffset() * 60000);
      const brasilia = new Date(utc + (3600000 * -3));
      const diaSemana = brasilia.getDay();
      const hora = brasilia.getHours();
      const minuto = brasilia.getMinutes();
      const aberto = (diaSemana >= 1 && diaSemana <= 6) && ((hora > 18 || (hora === 18 && minuto >= 30)) && (hora < 22 || (hora === 22 && minuto <= 20)));
      return { aberto, diaSemana };
    }
    let statusLoja = verificarHorarioFuncionamento();
    let lojaAberta = statusLoja.aberto;
    setInterval(() => { statusLoja = verificarHorarioFuncionamento(); lojaAberta = statusLoja.aberto; }, 60000);

    // --- MENU (itens) ---
    const menuItems = [
      { id: 1, name: 'V√≠veres Burguer', desc: 'P√£o artesanal, burguer 150g, queijo mussarela, maionese da casa', price: 20.00, img: 'V√≠veres Burguer.jpg', badge: '', category: 'Lanches' },
      { id: 2, name: 'V√≠veres Salada', desc: 'P√£o artesanal, burguer 150g, queijo mussarela, alface americana, tomate, cebola roxa, maionese da casa', price: 25.00, img: 'V√≠veres Salada.jpg', badge: '', category: 'Lanches' },
      { id: 3, name: 'V√≠veres Bacon', desc: 'P√£o artesanal, burguer 150g, bacon, queijo mussarela, alface americana, tomate, cebola roxa, maionese da casa', price: 27.90, img: 'V√≠veres Salada.jpg', badge: '', category: 'Lanches' },
      { id: 4, name: 'Mussaburguer', desc: 'P√£o artesanal, burguer 150g, mussarela empanada, picles, alface americana, bacon, maionese da casa', price: 31.90, img: 'Mussaburguer.jpg', badge: '', category: 'Lanches' },
      { id: 5, name: 'Preferido', desc: 'P√£o artesanal, burguer 150g (2x), bacon, queijo cheddar, cebola roxa, maionese da casa', price: 37.00, img: 'Preferido.jpg', badge: 'Preferido', category: 'Lanches' },
      { id: 6, name: 'G B I', desc: 'P√£o artesanal, burguer 150g, bacon, queijo cheddar, maionese da casa', price: 24.90, img: 'GBI.jpg', badge: 'Mais pedido', category: 'Lanches' },
      { id: 7, name: 'Cheddar Melt', desc: 'P√£o artesanal, burguer 150g, cheddar cremoso, picles, farofa de bacon', price: 30.00, img: 'Cheddar Melt.jpg', badge: '', category: 'Lanches' },
      { id: 8, name: 'Supreme', desc: 'P√£o artesanal, burguer 150g, queijo cheddar, onion rings, molho BBQ', price: 29.00, img: 'Supreme.jpg', badge: 'Novo', category: 'Lanches' },
      { id: 9, name: 'V√≠veres Crispy', desc: 'P√£o artesanal, burguer 150g, queijo mussarela, cebola crispy, alface americana, mel, maionese da casa', price: 32.00, img: 'V√≠veres Crispy.jpg', badge: '', category: 'Lanches' },
      { id: 10, name: 'V√≠veres Chicken', desc: 'P√£o artesanal, burguer de frango, queijo mussarela, tomate, picles, alface americana, molho especial', price: 26.90, img: 'V√≠veres Chicken.jpg', badge: '', category: 'Lanches' },
      { id: 11, name: 'V√≠veres Kids', desc: '1 Mini burguer + 1 mini por√ß√£o de batata smile + 1 Coca-Cola 200ml ou Suco Kap√¥ + brinde', price: 29.90, img: 'kids.jpg', badge: '', category: 'Lanches' },
      { id: 21, name: 'Batata Frita', desc: 'Por√ß√£o individual de batata frita crocante', price: 8.00, img: 'Batata frita.jpg', badge: '', category: 'Por√ß√µes' },
      { id: 22, name: 'Batata Crinkle (ondulada)', desc: 'Por√ß√£o individual de batata crinkle ondulada', price: 9.00, img: 'batataon.jpg', badge: '', category: 'Por√ß√µes' },
      { id: 23, name: 'Batata Frita c/ Cheddar e Farofa de Bacon', desc: 'Por√ß√£o individual de batata frita com cheddar e farofa de bacon', price: 13.90, img: 'batata.jpg', badge: '', category: 'Por√ß√µes' },
      { id: 24, name: 'Batata Smile (carinha)', desc: '8 unidades, acompanha molho especial', price: 10.90, img: 'Batata Smile.jpg', badge: '', category: 'Por√ß√µes' },
      { id: 25, name: 'An√©is de Cebola', desc: '8 unidades, acompanha molho barbecue', price: 9.90, img: 'An√©is de Cebola.jpg', badge: '', category: 'Por√ß√µes' },
      { id: 26, name: 'Nuggets Chicken Supreme', desc: '6 unidades, acompanha molho especial', price: 11.90, img: 'Nuggets Supreme.jpg', badge: '', category: 'Por√ß√µes' },
      { id: 31, name: 'Mini Churros', desc: 'Por√ß√£o individual com 10 unidades', price: 13.90, img: 'churros.jpg', badge: '', category: 'Sobremesa' },
      { id: 41, name: '√Ågua', desc: 'Garrafa de √°gua mineral', price: 4.00, img: 'agua.png', badge: '', category: 'Bebidas' },
      { id: 42, name: '√Ågua com G√°s', desc: 'Garrafa de √°gua com g√°s', price: 4.50, img: 'aguagas.png', badge: '', category: 'Bebidas' },
      { id: 43, name: 'Refrigerante Lata 350ml', desc: 'Coca-Cola, Fanta, Sprite e outros sabores', price: 6.00, img: 'guaranas.png', badge: '', category: 'Bebidas' },
      { id: 44, name: 'Refrigerante Vencetex 2L ', desc: 'Refrigerante Vencetex 2 litros', price: 8.00, img: 'guarana.png', badge: '', category: 'Bebidas' },
      { id: 44, name: 'Refrigerante Sprite 2L', desc: 'Refrigerante Sprite 2 litros', price: 12.00, img: 'sprite.png', badge: '', category: 'Bebidas' },
      { id: 45, name: 'Coca-Cola 2L', desc: 'Refrigerante Coca-Cola 2 litros', price: 12.00, img: 'coca.png', badge: '', category: 'Bebidas' },
      { id: 46, name: 'Fanta Laranja 2L', desc: 'Refrigerante Fanta Laranja 2 litros', price: 12.00, img: 'fantal.png', badge: '', category: 'Bebidas' },
      { id: 47, name: 'Fanta Uva 2L', desc: 'Refrigerante Uva Laranja 2 litros', price: 12.00, img: 'fantau.png', badge: '', category: 'Bebidas' },
      { id: 48, name: 'Coca-Cola Zero 2L', desc: 'Refrigerante Coca-Cola Zero 2 litros', price: 15.00, img: 'cocazero.png', badge: '', category: 'Bebidas' },
      { id: 49, name: 'Cerveja Long Neck 330ml', desc: 'Heineken, Budweiser, Bud, Eisenbahn', price: 10.00, img: 'cerveja.png', badge: '', category: 'Bebidas' },
      { id: 50, name: 'Suco 500ml', desc: 'Sabores: abacaxi com hortel√£, acerola com laranja, maracuj√°, morango e tamarino', price: 10.00, img: 'suco.png', badge: '', category: 'Bebidas' },
    ];

    // Refer√™ncias DOM
    const menuEl = document.getElementById('menu');
    const searchInput = document.getElementById('search');
    const clearSearchBtn = document.getElementById('clear-search');
    const categoriesEl = document.getElementById('categories');
    const cartEmpty = document.getElementById('cart-empty');
    const cartList = document.getElementById('cart-list');
    const cartTotals = document.getElementById('cart-totals');
    const totalEl = document.getElementById('total');
    const btnClear = document.getElementById('btn-clear');
    const btnCheckout = document.getElementById('btn-checkout');
    const modal = document.getElementById('modal');
    const orderList = document.getElementById('order-list');
    const modalTotal = document.getElementById('modal-total');
    const paymentEl = document.getElementById('payment');
    const cardTypeContainer = document.getElementById('card-type-container');
    const deliveryEl = document.getElementById('delivery-option');
    const deliveryAddressContainer = document.getElementById('delivery-address-container');
    const deliveryBairro = document.getElementById('delivery-address-bairro');
    const deliveryRua = document.getElementById('delivery-address-rua');
    const deliveryNum = document.getElementById('delivery-address-num');
    const whatsappBtn = document.getElementById('whatsapp-btn');

    // Modal de adicionar observa√ß√£o
    const addObsModal = document.getElementById('addObsModal');
    const addObsTitle = document.getElementById('addObsTitle');
    const itemQtyInput = document.getElementById('itemQty');
    const obsTextarea = document.getElementById('itemObs');
    const addObsConfirm = document.getElementById('addObsConfirm');
    const addObsCancel = document.getElementById('addObsCancel');
    const obsDecrease = document.getElementById('obs-decrease');
    const obsIncrease = document.getElementById('obs-increase');
    const obsPreview = document.getElementById('obsPreview');
    const extrasListEl = document.getElementById('extrasList');
    const customTotalEl = document.getElementById('customTotal');

    // Estado do carrinho
    let cart = [];

    // Estado de filtro/pesquisa
    let currentCategory = 'Todos';
    let currentQuery = '';

    // Item tempor√°rio sendo adicionado (para modal)
    let tempItem = null;

    // --- Adicionais (com pre√ßos que voc√™ forneceu) ---
    const adicionais = [
      { id: 'burg150', nome: 'Burguer extra 150g', preco: 8.00 },
      { id: 'bacon', nome: 'Bacon', preco: 6.00 },
      { id: 'farofa', nome: 'Farofa de bacon', preco: 6.00 },
      { id: 'picles', nome: 'Picles', preco: 5.00 },
      { id: 'cebola_crispy', nome: 'Cebola crispy', preco: 5.00 },
      { id: 'anel_cebola', nome: 'Anel de cebola', preco: 5.00 },
      { id: 'mussarela_emp', nome: 'Mussarela empanada', preco: 8.00 },
      { id: 'queijo_muss', nome: 'Queijo mussarela', preco: 5.00 },
      { id: 'queijo_cheddar', nome: 'Queijo cheddar', preco: 5.00 },
      { id: 'cheddar_cremoso', nome: 'Cheddar cremoso', preco: 8.00 },
      { id: 'salada_completa', nome: 'Salada completa', preco: 5.00 },
      { id: 'burg_galinha', nome: 'Burguer de frango', preco: 6.00 },
      { id: 'molho_bbq', nome: 'Molho BBQ', preco: 5.00 },
      { id: 'molho_especial', nome: 'Molho especial', preco: 5.00 },
      { id: 'molho_baconase', nome: 'Baconase', preco: 5.00 }
    ];

    // estado tempor√°rio de extras selecionados (id -> qtd)
    let extrasSelecionados = {};

    // --- Fun√ß√£o: renderizar menu com filtros/pesquisa ---
    function renderMenu() {
      menuEl.innerHTML = '';
      const q = currentQuery.trim().toLowerCase();
      const filtered = menuItems.filter(i => {
        const matchCat = (currentCategory === 'Todos') || (i.category === currentCategory);
        const matchQuery = !q || i.name.toLowerCase().includes(q) || i.desc.toLowerCase().includes(q);
        return matchCat && matchQuery;
      });
      if (filtered.length === 0) {
        menuEl.innerHTML = '<div style="color:#ccc">Nenhum item encontrado.</div>';
        return;
      }
      filtered.forEach(i => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
              <div class="thumb">${i.img ? `<img src="${i.img}" alt="${i.name}">` : '<span style="color:#ccc">Sem imagem</span>'}</div>
              ${i.badge ? `<div class="badge">${i.badge}</div>` : ''}
              <div class="name">${i.name}</div>
              <div class="price">R$ ${i.price.toFixed(2)}</div>
              <div class="desc">${i.desc}</div>
              <div class="row">
                <button class="btn add-to-cart" data-id="${i.id}">Adicionar</button>
                <div style="font-size:0.85rem;color:#ccc">${i.category}</div>
              </div>
            `;
        menuEl.appendChild(card);
      });

      // Depois de renderizar, anexar listeners nos bot√µes "Adicionar"
      document.querySelectorAll('.add-to-cart').forEach(btn => {
        btn.addEventListener('click', (e) => {
          if (!lojaAberta) {
            alert('A loja est√° fechada. Funciona Segunda-S√°bado 18:30‚Äì22:20');
            return;
          }
          const id = parseInt(e.currentTarget.dataset.id);
          const item = menuItems.find(m => m.id === id);

          // === AQUI: se for bebida, adicionar direto ao carrinho sem abrir o modal ===
          if (item && (item.category === 'Bebidas' || item.category === 'Por√ß√µes' || item.category === 'Sobremesa')) {
            addDirectToCart(item);
            return;
          }

          // sen√£o, abrir modal de personaliza√ß√£o
          openAddObsModal(item);
        });
      });
    }



    // --- Adiciona bebida diretamente ao carrinho (sem modal) ---
    function addDirectToCart(item) {
      if (!item) return;
      // Chave de compara√ß√£o simples (sem extras/obs)
      const compareKey = `${item.id}::::`; // extras/vazio/obs vazio
      const index = cart.findIndex(ci => ci.compareKey === compareKey);
      if (index > -1) {
        cart[index].qty += 1;
      } else {
        cart.push({
          compareKey,
          id: item.id,
          name: item.name,
          basePrice: item.price,
          unitPrice: item.price,
          img: item.img,
          qty: 1,
          obs: '',
          extras: []
        });
      }
      updateCart();
    }

    // --- Modal adicionais + observa√ß√µes ---
    function resetExtrasSelecionados() {
      extrasSelecionados = {};
      adicionais.forEach(a => extrasSelecionados[a.id] = 0);
    }

    // Render extras list (usada pelo modal)
    function renderExtras() {
      extrasListEl.innerHTML = '';
      adicionais.forEach(extra => {
        const row = document.createElement('div');
        row.className = 'extras-row';
        row.innerHTML = `
              <div style="font-size:0.95rem;color:#ddd">${extra.nome} ‚Äî R$ ${extra.preco.toFixed(2)}</div>
              <div class="extra-controls" style="min-width:110px;">
                <button class="btn" data-extra="${extra.id}" data-delta="-1">-</button>
                <span id="extraQty-${extra.id}" style="min-width:28px;text-align:center;display:inline-block">${extrasSelecionados[extra.id] || 0}</span>
                <button class="btn" data-extra="${extra.id}" data-delta="1">+</button>
              </div>
            `;
        extrasListEl.appendChild(row);
      });

      // attach listeners
      extrasListEl.querySelectorAll('button[data-extra]').forEach(b => {
        b.addEventListener('click', (ev) => {
          const id = ev.currentTarget.dataset.extra;
          const delta = parseInt(ev.currentTarget.dataset.delta);
          alterarExtra(id, delta);
        });
      });
    }

    function alterarExtra(id, delta) {
      extrasSelecionados[id] = Math.max(0, (extrasSelecionados[id] || 0) + delta);
      const span = document.getElementById(`extraQty-${id}`);
      if (span) span.textContent = extrasSelecionados[id];
      atualizarCustomTotal();
    }

    function calcularUnitarioComExtras() {
      if (!tempItem) return 0;
      let unit = parseFloat(tempItem.price) || 0;
      for (const a of adicionais) {
        const q = extrasSelecionados[a.id] || 0;
        unit += q * a.preco;
      }
      return unit;
    }

    function atualizarCustomTotal() {
      const unit = calcularUnitarioComExtras();
      customTotalEl.textContent = `R$ ${unit.toFixed(2)}`;
      return unit;
    }

    function openAddObsModal(item) {
      tempItem = item;
      addObsTitle.textContent = `Personalizar: ${item.name}`;
      itemQtyInput.value = 1;
      obsTextarea.value = '';
      obsPreview.style.display = 'none';
      resetExtrasSelecionados();
      renderExtras();
      atualizarCustomTotal();
      addObsModal.classList.add('open');
      addObsModal.setAttribute('aria-hidden', 'false');
      setTimeout(() => obsTextarea.focus(), 250);
    }

    function closeAddObsModal() {
      tempItem = null;
      addObsModal.classList.remove('open');
      addObsModal.setAttribute('aria-hidden', 'true');
    }

    obsDecrease.addEventListener('click', () => { let v = parseInt(itemQtyInput.value || 1); if (v > 1) itemQtyInput.value = v - 1; });
    obsIncrease.addEventListener('click', () => { let v = parseInt(itemQtyInput.value || 1); itemQtyInput.value = v + 1; });
    itemQtyInput.addEventListener('input', () => { if (itemQtyInput.value < 1) itemQtyInput.value = 1; });

    obsTextarea.addEventListener('input', () => {
      const txt = obsTextarea.value.trim();
      if (txt) { obsPreview.style.display = 'block'; obsPreview.textContent = 'Observa√ß√£o: ' + txt; }
      else { obsPreview.style.display = 'none'; obsPreview.textContent = ''; }
    });

    addObsCancel.addEventListener('click', (e) => { e.preventDefault(); closeAddObsModal(); });

    // Ao confirmar no modal: cria item com extras, unitPrice e adiciona ao cart
    addObsConfirm.addEventListener('click', (e) => {
      e.preventDefault();
      if (!tempItem) return;
      const qty = parseInt(itemQtyInput.value || 1);
      const obs = obsTextarea.value.trim();

      const extrasArray = adicionais
        .filter(a => (extrasSelecionados[a.id] || 0) > 0)
        .map(a => ({ id: a.id, nome: a.nome, preco: a.preco, qtd: extrasSelecionados[a.id] }));

      const unitPrice = calcularUnitarioComExtras();
      const extrasKey = extrasArray.map(x => `${x.id}:${x.qtd}`).sort().join('|');
      const compareKey = `${tempItem.id}::${obs}::${extrasKey}`;

      const index = cart.findIndex(ci => ci.compareKey === compareKey);
      if (index > -1) {
        cart[index].qty += qty;
      } else {
        cart.push({
          compareKey,
          id: tempItem.id,
          name: tempItem.name,
          basePrice: tempItem.price,
          unitPrice: unitPrice,
          img: tempItem.img,
          qty,
          obs,
          extras: extrasArray
        });
      }

      updateCart();
      closeAddObsModal();
    });

    // --- Atualizar carrinho na UI ---
    function updateCart() {
      if (cart.length === 0) {
        cartEmpty.style.display = 'block';
        cartList.style.display = 'none';
        cartTotals.style.display = 'none';
        return;
      }
      cartEmpty.style.display = 'none';
      cartList.style.display = 'flex';
      cartTotals.style.display = 'flex';
      cartList.innerHTML = '';
      let total = 0;
      cart.forEach((item, idx) => {
        const lineTotal = (item.unitPrice || item.basePrice) * item.qty;
        total += lineTotal;
        const div = document.createElement('div');
        div.className = 'cart-item';
        let extrasHtml = '';
        if (item.extras && item.extras.length) {
          extrasHtml = `<div class="ci-observation">Adicionais: ${item.extras.map(e => escapeHtml(e.qtd + 'x ' + e.nome)).join(', ')}</div>`;
        }
        div.innerHTML = `
              <div class="ci-thumb">${item.img ? `<img src="${item.img}" alt="${item.name}">` : '<span style="color:#ccc">Sem imagem</span>'}</div>
              <div class="ci-meta">
                <div class="ci-name">${escapeHtml(item.name)}</div>
                <div class="ci-desc">Valor: R$ ${(item.unitPrice || item.basePrice).toFixed(2)} ‚Ä¢ Quantidade: ${item.qty}</div>
                ${extrasHtml}
                ${item.obs ? `<div class="ci-observation">Obs: ${escapeHtml(item.obs)}</div>` : ''}
              </div>
              <div class="ci-controls">
                <div class="qty">
                  <button class="minus" data-idx="${idx}">-</button>
                  <span>${item.qty}</span>
                  <button class="plus" data-idx="${idx}">+</button>
                </div>
                <div style="margin-top:6px" class="ci-price">R$ ${lineTotal.toFixed(2)}</div>
                <button class="btn remove remove-item" data-idx="${idx}" style="margin-top:8px">Remover</button>
              </div>
            `;
        cartList.appendChild(div);
      });
      totalEl.textContent = 'R$ ' + total.toFixed(2);

      // attach listeners for +/- and remove
      document.querySelectorAll('.minus').forEach(b => {
        b.addEventListener('click', (e) => {
          const i = parseInt(e.currentTarget.dataset.idx);
          if (cart[i].qty > 1) cart[i].qty--;
          else cart.splice(i, 1);
          updateCart();
        });
      });
      document.querySelectorAll('.plus').forEach(b => {
        b.addEventListener('click', (e) => {
          const i = parseInt(e.currentTarget.dataset.idx);
          cart[i].qty++;
          updateCart();
        });
      });
      document.querySelectorAll('.remove-item').forEach(b => {
        b.addEventListener('click', (e) => {
          const i = parseInt(e.currentTarget.dataset.idx);
          cart.splice(i, 1);
          updateCart();
        });
      });
    }

    // --- Limpar carrinho ---
    btnClear.addEventListener('click', () => { cart = []; updateCart(); });

    // --- Checkout: abrir modal resumo ---
    btnCheckout.addEventListener('click', () => {
      if (cart.length === 0) { alert('Carrinho vazio'); return; }
      orderList.innerHTML = '';
      let total = 0;
      cart.forEach(i => {
        const lineTotal = (i.unitPrice || i.basePrice) * i.qty;
        total += lineTotal;
        const div = document.createElement('div');
        div.className = 'order-item';
        div.innerHTML = `
              ${i.img ? `<img src="${i.img}" alt="${i.name}">` : ''}
              <div style="flex:1">
                <div style="font-weight:700">${escapeHtml(i.name)} x${i.qty}</div>
                <div style="color:#ccc">R$ ${lineTotal.toFixed(2)}</div>
                ${i.extras && i.extras.length ? `<div style="margin-top:6px;color:#ddd;font-size:0.9rem">Adicionais: ${i.extras.map(e => escapeHtml(e.qtd + 'x ' + e.nome)).join(', ')}</div>` : ''}
                ${i.obs ? `<div style="margin-top:6px;color:#ddd;font-size:0.9rem">Obs: ${escapeHtml(i.obs)}</div>` : ''}
              </div>
            `;
        orderList.appendChild(div);
      });
      modalTotal.textContent = 'R$ ' + total.toFixed(2);
      modal.classList.add('open');
    });

    // fechar modal resumo ao clicar fora (simples)
    modal.addEventListener('click', (e) => { if (e.target === modal) modal.classList.remove('open'); });

    // forma de pagamento mostra container cart√£o
    paymentEl.addEventListener('change', () => {
      cardTypeContainer.style.display = paymentEl.value === 'Cart√£o' ? 'block' : 'none';
    });

    

    // delivery
    deliveryEl.addEventListener('change', () => {
      deliveryAddressContainer.style.display = deliveryEl.value === 'Delivery' ? 'block' : 'none';
    });

    // confirmar pedido -> abrir WhatsApp com mensagem
    document.getElementById('confirm-order').addEventListener('click', () => {
      if (cart.length === 0) { alert('Carrinho vazio'); return; }
      let total = parseFloat(cart.reduce((a, c) => a + ((c.unitPrice || c.basePrice) * c.qty), 0).toFixed(2));
      const payment = paymentEl.value;
      const cardType = payment === 'Cart√£o' ? document.getElementById('card-type').value : '';
      const deliveryOption = deliveryEl.value;
      let deliveryAddress = '';
      if (deliveryOption === 'Delivery') {
        deliveryAddress = `Bairro: ${deliveryBairro.value}\nRua: ${deliveryRua.value}\nN√∫mero: ${deliveryNum.value}`;
        if (!deliveryBairro.value || !deliveryRua.value || !deliveryNum.value) { alert('Preencha o endere√ßo'); return; }
        total += 5; // taxa
      }
      let client = prompt('Digite seu nome completo:') || 'Cliente';
      client = client.trim() || 'Cliente';

      let message = `Ol√°, aqui √© ${client}.\n\nPedido:\n`;
      cart.forEach(i => {
        const lineTotal = ((i.unitPrice || i.basePrice) * i.qty).toFixed(2);
        message += `- ${i.name} x${i.qty} ‚Äî R$ ${lineTotal}\n`;
        if (i.extras && i.extras.length) {
          message += `  Adicionais: ${i.extras.map(e => `${e.qtd}x ${e.nome}`).join(', ')}\n`;
        }
        if (i.obs) message += `  Obs: ${i.obs}\n`;
      });
      if (deliveryOption === 'Delivery') { message += `Taxa de Delivery: R$ 5,00\n`; }
      message += `Total: R$ ${total.toFixed(2)}\n`;
      message += `Forma de pagamento: ${payment} ${cardType ? `(${cardType})` : ''}\n`;
      if (deliveryOption === 'Delivery') { message += `Endere√ßo para entrega:\n${deliveryAddress}\n`; }

      const whatsappNumber = "5518991616645";
      const url = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank');

      // limpar ap√≥s enviar
      cart = [];
      updateCart();
      modal.classList.remove('open');
    });

    // Bot√£o WhatsApp flutuante (abre conversa)
    whatsappBtn.addEventListener('click', () => {
      const whatsappNumber = "5518991616645";
      window.open(`https://wa.me/${whatsappNumber}`, '_blank');
    });

    // --- Pesquisa e categorias ---
    searchInput.addEventListener('input', (e) => {
      currentQuery = e.target.value;
      renderMenu();
    });
    clearSearchBtn.addEventListener('click', () => {
      searchInput.value = '';
      currentQuery = '';
      renderMenu();
    });

    categoriesEl.addEventListener('click', (e) => {
      const btn = e.target.closest('.cat-btn');
      if (!btn) return;
      document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      currentCategory = btn.dataset.cat;
      renderMenu();

    });

    // --- Util: escape para evitar inje√ß√£o de HTML via observa√ß√µes ---
    function escapeHtml(unsafe) {
      return String(unsafe || '')
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    }

    // --- Inicializa√ß√£o ---
    renderMenu();
    updateCart();

    // Small UX: fechar add-obs modal com ESC / clicar fora
    addObsModal.addEventListener('click', (e) => { if (e.target === addObsModal) closeAddObsModal(); });
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { if (addObsModal.classList.contains('open')) closeAddObsModal(); if (modal.classList.contains('open')) modal.classList.remove('open'); } });
  </script>
</body>

<div id="meu-modal"
  style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center;">
  <div style="background:#fff; padding:20px; border-radius:8px; text-align:center;">
    <p>Deseja adicionar este lanche ao carrinho?</p>
    <button id="modal-sim">Sim</button>
    <button id="modal-cancelar">Cancelar</button>
  </div>
</div>

<script>
  const meuModal = document.getElementById('meu-modal');
  const btnSim = document.getElementById('modal-sim');
  const btnCancelar = document.getElementById('modal-cancelar');


  document.querySelectorAll('.btn-add-lanche').forEach(btn => {
    btn.addEventListener('click', () => {
      modal.style.display = 'flex';
    });
  });

  btnSim.addEventListener('click', () => {
    modal.style.display = 'none';
  });

  btnCancelar.addEventListener('click', () => {
    modal.style.display = 'none';
  });
</script>

</html>
